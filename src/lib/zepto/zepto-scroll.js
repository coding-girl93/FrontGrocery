!function(){"use strict";window.CSSBaseStyle='* { user-select: none; user-drag : none; tap-highlight-color: rgba(0, 0, 0, 0); touch-callout: none; margin : 0; padding : 0; box-sizing: border-box } \nhtml, body { position: fixed; top: 0; right: 0; bottom: 0; left: 0; z-index: 1; background: #fff; color: #000; font-size: 10dp; font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; overflow: hidden } \na { text-decoration: none } \nbutton { background-color: transparent; border: 0; outline: 0 } \ninput, textarea, *[contenteditable=true] { user-select: initial; touch-callout: initial; border: 0; outline: 0 } \nhtmlarea { display: inline-block; text-rendering: auto; letter-spacing: normal; word-spacing: normal; text-indent: 0px; text-align: start; font: initial }article, aside, details, figcaption, figure, footer, header, hgroup, menu, nav, section { display: block } \nol, ul { list-style: none } \ntable { border-collapse: collapse; border-spacing: 0 } \nscroll, scrolling, scrollbar, indicator { display: block; box-sizing: border-box } \nscroll { position: relative; overflow: hidden } \nscroll[fullscreen] { position: fixed; top: 0; right: 0; bottom: 0; left: 0; z-index: 1 }scroll scrolling { position: absolute; z-index: 1 } \nscroll[flow-x] > scrolling { display: flex }scroll[flow-y] > scrolling { min-width: 100% }scroll[flow-free] > scrolling { min-width: 100%; min-height: 100% }scroll scrollbar { position: absolute; z-index: 9999; border-radius: 2.5dp; overflow: hidden } \nscroll scrollbar indicator { position: absolute; z-index: 1; border-radius: 2.5dp; background: rgba(0, 0, 0, 0.4) } \n',window.viewportScale=function(){document.write('<meta id="viewport" name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no">');var t=window.innerWidth,e=document.documentElement.offsetWidth,i=document.getElementById("viewport");i.parentNode.removeChild(i);var n=1/devicePixelRatio;document.write('<meta name="viewport" content="width=device-width,initial-scale='+n+",minimum-scale="+n+",maximum-scale="+n+",user-scalable=no"+(devicePixelRatio>2?"":",target-densitydpi=device-dpi")+'" />');var s=(Math.abs(t*devicePixelRatio-window.innerWidth)<.01*window.innerWidth||Math.abs(e*devicePixelRatio-document.documentElement.offsetWidth)<.01*window.innerWidth)&&window.innerWidth!=window.screen.width?devicePixelRatio:null;return null==s&&(document.write('<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">'),s=1),document.write("<style>* { margin : 0; padding : 0 } \n module-container { background: #fff } \n</style>"),s}();var t=document.createElement("div"),e=t.style,i=function(t){return this.webkit=!!t.match(/WebKit\/([\d.]+)/),this.android=!(!t.match(/(Android)\s+([\d.]+)/)&&!t.match(/Silk-Accelerated/)),this.androidICS=!(!this.android||!t.match(/(Android)\s4/)),this.ipad=!!t.match(/(iPad).*OS\s([\d_]+)/),this.iphone=!(this.ipad||!t.match(/(iPhone\sOS)\s([\d_]+)/)),this.webos=!!t.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),this.touchpad=!(!this.webos||!t.match(/TouchPad/)),this.ios=this.ipad||this.iphone,this.playbook=!!t.match(/PlayBook/),this.blackberry10=!!t.match(/BB10/),this.blackberry=!!(this.playbook||this.blackberry10||t.match(/BlackBerry/)),this.chrome=!!t.match(/Chrome/),this.opera=!!t.match(/Opera/),this.fennec=t.match(/fennec/i)?!0:!!t.match(/Firefox/),this.ie=!!t.match(/MSIE 10.0/i),this.ieTouch=!(!this.ie||!t.toLowerCase().match(/touch/i)),this.supportsTouch=window.DocumentTouch&&document instanceof window.DocumentTouch||"ontouchstart"in window,this.ios&&(this.iosVersion=parseFloat(t.slice(t.indexOf("Version/")+8))||-1),this.android&&!this.webkit&&(this.android=!1),this.android&&(this.androidVersion=parseFloat(t.slice(t.indexOf("Android")+8))||-1),this}.call({},navigator.userAgent),n=function(t){this.touch="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,this.vendor=i.webkit?"Webkit":i.fennec?"Moz":i.ie?"ms":i.opera?"O":"",this.prefix=i.webkit?"-webkit-":i.fennec?"-moz-":i.ie?"-ms-":i.opera?"-O-":"",this.cssTransformStart=i.opera?"(":"3d(",this.cssTransformEnd=i.opera?")":",0)",this.viewportScale=window.viewportScale;var n={},s={},r=["webkit","Moz","ms","O"],o=["-webkit-","-moz-","-ms-","-O-"];return this.prefixStyle=function(t,i){var a;if(i&&t in s)return s[t];if(!i&&t in n)return n[t];for(var h=0,c=r.length;c>h;h++)if(a=r[h]+("-"+t).replace(/-(\w)/g,function(){return arguments[1].toUpperCase()}),a in e)return i?s[t]=o[h]+t:n[t]=a;return t in e?i?s[t]=t:n[t]=t:i?s[t]=t:n[t]=!1},this.getPrefixStyleProp=function(t){if(t in s)return s[t];for(var i=0,n=r.length;n>i;i++){var a=r[i]+("-"+t).replace(/-(\w)/g,function(t,e){return e.toUpperCase()});if(a in e)return s[t]=o[i]+t}return s[t]=t},this.hasTranslate3d=!(!this.prefixStyle("transform")||!window.getComputedStyle),this.isBadTransition=i.android&&i.androidVersion<6.5||i.ios&&i.iosVersion<6||!i.ios&&!i.android||!i.webkit||!this.hasTranslate3d,this.isBadAndroid=devicePixelRatio<2&&screen.width<640&&i.androidVersion<3,this.observer=!!(window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver),this.shadowRoot=!!document.documentElement.createShadowRoot,this.svg=!!window.SVGAngle,this.keyframes=!!(window.CSSRule.WEBKIT_KEYFRAMES_RULE||window.CSSRule.MOZ_KEYFRAMES_RULE||window.CSSRule.MS_KEYFRAMES_RULE||window.CSSRule.O_KEYFRAMES_RULE),this.keyframesPrefix=window.CSSRule.WEBKIT_KEYFRAMES_RULE?"-webkit-":window.CSSRule.MOZ_KEYFRAMES_RULE?"-moz-":window.CSSRule.MS_KEYFRAMES_RULE?"-ms-":window.CSSRule.O_KEYFRAMES_RULE?"-o-":"",this.supportTransition=this.keyframes,this.iframeInputBlurBug=i.ios&&i.iosVersion<9,this.mutations=function(){function t(t){for(i=n.length;i--;)a[t](n[i],e,!1),s[t](n[i],e,!1)}function e(t){h[t.type]=!0}var i,n=["DOMSubtreeModified","DOMNodeInserted","DOMNodeRemoved","DOMNodeRemovedFromDocument","DOMNodeInsertedIntoDocument","DOMAttrModified","DOMCharacterDataModified"],s=document.documentElement,r="EventListener",o="deleteData",a=document.createElement("p"),h={};return t("add"+r),s.insertBefore(a,s.lastChild),a.setAttribute("i",i),a=a.appendChild(document.createTextNode(i)),o in a&&a[o](0,1),s.removeChild(a=a.parentNode),t("remove"+r),a=h}(),this}.call({},navigator.userAgent),s=function(t){function e(t,e){var i=u[t];null==i&&(u[t]=[]),u[t].push(e)}function i(t,e){for(var i=0,n=0;n<t.length;n++){var s=t[n],r=u[s];null==r&&(u[s]=[]),u[s].push(function(n){return++i===t.length?e(n):null})}}function n(t,e){var i=u[t];if(null!=i)for(var n=0;n<i.length;n++)i[n](e)}function s(t,e,i){this.name=t,this.deps=e,this.body=i,this.exports={},this.created=!1}function r(){var t=arguments[0],e=arguments[1],i=arguments[2];1==arguments.length?(i=t,e=a(i.toString()),t=null):2==arguments.length&&("string"==typeof t?(i=e,e=a(i.toString())):(i=e,e=t,t=null)),e=e||[],t?(c.call=null,o(t,e,i)):c.call=function(t){o(t,e,i)}}function o(t,e,r){var o=new s(t,e,r);l[t]=o,n("moduleLoad",o);for(var a=[],c=0;c<e.length;c++){var u=e[c];null==l[u]&&a.push(u)}0==a.length?o.create():(i(a,function(){o.create()}),setTimeout(function(){for(var t=0;t<a.length;t++){var e=a[t];l[e]||h(e)}},0))}function a(t){for(var e=[],i=f.exec(t);null!=i;)e.push(i[1]),i=f.exec(t);return e}function h(e){if(null==d[e]){d[e]=!0;var i=e+".js";n("scriptLoad",i);var s=t.document.createElement("script"),r=t.document.head;s.async=!0,s.src=i,r.appendChild(s),s.onload=function(){n("scriptLoaded",i),c.call&&c.call(e),r.removeChild(s),s=null}}}var c={},l={},u={},d={},f=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/gi;s.prototype.create=function(){this.created||(this.created=!0,n("moduleExecute",this),this.body(this.getExports,this,this.exports),n(this.name,this))},s.prototype.getExports=function(t,e){return e?r("argument",t,function(t){e(t)}):l[t].exports},r.modules=l,r.addEventListener=e,r.dispatchEvent=n,t.define=r},r=function(){function t(){this.id=this.createUUID()}return t.prototype.valueOf=function(){return this.id},t.prototype.toString=function(){return this.id},t.prototype.createUUID=function(){var e=new Date(1582,10,15,0,0,0,0),i=new Date,n=i.getTime()-e.getTime(),s=t.getIntegerBits(n,0,31),r=t.getIntegerBits(n,32,47),o=t.getIntegerBits(n,48,59)+"1",a=t.getIntegerBits(t.rand(4095),0,7),h=t.getIntegerBits(t.rand(4095),0,7),c=t.getIntegerBits(t.rand(8191),0,7)+t.getIntegerBits(t.rand(8191),8,15)+t.getIntegerBits(t.rand(8191),0,7)+t.getIntegerBits(t.rand(8191),8,15)+t.getIntegerBits(t.rand(8191),0,15);return s+r+o+a+h+c},t.getIntegerBits=function(e,i,n){var s=t.returnBase(e,16),r=new Array,o="",a=0;for(a=0;a<s.length;a++)r.push(s.substring(a,a+1));for(a=Math.floor(i/4);a<=Math.floor(n/4);a++)o+=r[a]&&""!=r[a]?r[a]:"0";return o},t.returnBase=function(t,e){return t.toString(e).toUpperCase()},t.rand=function(t){return Math.floor(Math.random()*(t+1))},t}(),o=function(){function t(t,e,n){if(null!=t.__lookupGetter__(e))return!0;var s=t[e],r=s,o=this,a=function(){return r},h=function(a){"[object Array]"===Object.prototype.toString.call(a)&&(a=i(a,n,o)),s=r,r=a,n.call(t,e,s,a)};return delete t[e]&&(Object.defineProperty?Object.defineProperty(t,e,{get:a,set:h,enumerable:!1,configurable:!0}):Object.prototype.__defineGetter__&&Object.prototype.__defineSetter__&&(Object.prototype.__defineGetter__.call(t,e,a),Object.prototype.__defineSetter__.call(t,e,h))),this}function e(t,e){var i=t[e];return delete t[e],t[e]=i,this}function i(t,e,i){function n(t,e,i){return function(){var i=Array.prototype.concat.apply(t),n=Array.prototype[e].apply(t,arguments);return t.updated(i,motive),n}}if(t.__wasExtended!==!0)return t.updated=function(t,i){e.call(this,"items",t,this,motive)},t.concat=n(t,"concat",motive),t.join=n(t,"join",motive),t.pop=n(t,"pop",motive),t.push=n(t,"push",motive),t.reverse=n(t,"reverse",motive),t.shift=n(t,"shift",motive),t.slice=n(t,"slice",motive),t.sort=n(t,"sort",motive),t.splice=n(t,"splice",motive),t.unshift=n(t,"unshift",motive),t.__wasExtended=!0,t}return"undefined"!=typeof module&&(module.exports.watch=t,module.exports.unwatch=e),{watch:t,unwatch:e}}(),a=function(){function t(t,e,i,n){var s,r;this.sandbox=this.iframe=document.createElement("iframe"),i?(n&&n(this.sandbox),this.sandbox.attr(i.attr),i.target.appendChild(this.sandbox),r="<!DOCTYPE html><html><head>"+(i.style?i.style:"")+(i.script?i.script:"")+"</head><body></body></html>"):(this.sandbox.style.display="none",document.head.appendChild(this.sandbox),r='<head><meta charset="utf-8"></head>'),s=this.sandbox.contentDocument,s.open(),s.write(r),s.close(),this.window=this.sandbox.contentWindow.window,this.document=this.sandbox.contentWindow.document,t&&__defineUnify__(this.window),e&&__defineProto__(this.window)}return t.prototype={exit:function(){document.head.removeChild(this.sandbox)},load:function(t,e){t="object"==typeof t?t:[t];for(var i="",n=t.length-1;n>=0;n--)i+="<object data="+t[n]+"</object>";this.sandboxWindow.open(),this.sandboxWindow.write(i),this.sandboxWindow.close(),this.sandboxWindow.onload=function(){e()}}},t}(),h=function(){var t=new a,e=t.window,i=e.Function;return t.exit(),i}(),c=function(){var t=new a,e=t.window,i=e.Function;return i}();window.__defineUnify__=function(){var t={os:i,dpi:window.devicePixelRatio,scale:window.viewportScale,width:window.document.documentElement.offsetWidth||window.innerWidth,height:window.document.documentElement.offsetHeight||window.innerHeight,orientation:window.orientation};t.viewportWidth=window.viewportWidth=t.width/t.scale,t.viewportHeight=window.viewportHeight=t.height/t.scale,window.UNIT={px:1,dp:t.scale,vw:t.width/100,vh:t.height/100,vm:Math.min(t.width,t.height)/100};var l=n.vendor.length,u={size:/\b(\d*\.?\d+)+(px|dp|vm|vw|vh)\b/gi,vendor:new RegExp("^"+n.vendor,"ig")},d=function(){},f=function(t){return t.stopPropagation()},p=function(t){return t.preventDefault()};return function(m){var g=m.document;s(m),m.device={ui:t,os:i,feat:n},m.noop=d,m.stopPropagation=f,m.preventDefaultEvent=p;for(var v in m){var y=u.vendor.exec(v);if(y){var b=v.charAt(l),w=v.substr(l).replace(/(\w)/,function(t){return t.toLowerCase()});if(b>"A"||"Z">b)try{m[w]||(Object.defineProperty(m,w,{configurable:!0,writable:!0}),m[w]=m[v])}catch(x){}}}if(!m.requestAnimationFrame||!m.cancelAnimationFrame){Object.defineProperty(m,"requestAnimationFrame",{configurable:!0,writable:!0}),Object.defineProperty(m,"cancelAnimationFrame",{configurable:!0,writable:!0});var S=0;m.requestAnimationFrame=function(t){var e=Date.now(),i=Math.max(S+16,e);return setTimeout(function(){t(S=i)},i-e)},m.cancelAnimationFrame=m.clearTimeout}m.document.head||(m.document.head=m.document.getElementsByTagName("head")[0]||m.document.documentElement),m.Date.now||(m.Date.now=function(){return(new Date).getTime()}),m.Sandbox||(Object.defineProperty(m,"Sandbox",{configurable:!0,writable:!0}),m.Sandbox=a),m.SandboxFunction||(Object.defineProperty(m,"SandboxFunction",{configurable:!0,writable:!0}),m.SandboxFunction=h),m.ShadowRootFunction||(Object.defineProperty(m,"ShadowRootFunction",{configurable:!0,writable:!0}),m.ShadowRootFunction=c),m.seval||(Object.defineProperty(m,"seval",{configurable:!0,writable:!0}),m.seval=function(t){return new h(" try { return "+t+' } catch (e) { console.log("safe-eval error!" + e) }')()}),m.UUID||(Object.defineProperty(m,"UUID",{configurable:!0,writable:!0}),m.UUID=r),!function(){var t=m.Array,i=m.Object,s=m.String,r=m.DOMParser,a=m.CSSStyleDeclaration;!function(e){e.trim||(i.defineProperty(e,"trim",{configurable:!0,writable:!0}),e.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),e.paramsToObject||(i.defineProperty(e,"paramsToObject",{configurable:!0,writable:!0}),e.paramsToObject=function(t){var e,i={},t=t||/\,|\&|\?|\#|\$/;return this.split(t).each(function(t,n){e=n.split(/\:|\=/),e[0]&&(i[e[0]]=e[1])}),i}),e.parseStringOfURL||(i.defineProperty(e,"parseStringOfURL",{configurable:!0,writable:!0}),e.parseStringOfURL=function(t){return/^(?:(\w+):\/\/)?(?:(\w+):?(\w+)?@)?([^:\/\?#]+)(?::(\d+))?(\/[^\?#]+)?(?:\?([^#]+))?(?:#(\w+))?/.exec(this)}),e.encodeToNumber||(i.defineProperty(e,"encodeToNumber",{configurable:!0,writable:!0}),e.encodeToNumber=function(t,e){for(var i=0,n=e?"\\":"",s="",r=this.length;r>i;)s+=n+this.charCodeAt(i).toString(t),i++;return s}),e.decodeforNumber||(i.defineProperty(e,"decodeforNumber",{configurable:!0,writable:!0}),e.decodeforNumber=function(t){var e=0,i="",n=this.split("\\"),s=n.length;for(e=0;s>e;e++)i+=this.fromCharCode(parseInt(n[e],t));return i}),e.removeQuotes||(i.defineProperty(e,"removeQuotes",{configurable:!0,writable:!0}),e.removeQuotes=function(){return this.replace(/\"|\'/g,"")}),e.repeat||(i.defineProperty(e,"repeat",{configurable:!0,writable:!0}),e.repeat=function(e){return new t(1+e).join(this)}),e.staticAnalysis||(i.defineProperty(e,"staticAnalysis",{configurable:!0,writable:!0}),e.staticAnalysis=function(){try{return typeof seval(this)}catch(t){return t.message}})}(s.prototype),!function(t){t.extendProperty||(i.defineProperty(t,"extendProperty",{configurable:!0,writable:!0}),t.extendProperty=function(t,e){i.defineProperty(this,t,{configurable:!0,writable:!0}),e&&(this[t]=e)}),t.getInstanceType||(i.defineProperty(t,"getInstanceType",{configurable:!0,writable:!0}),t.getInstanceType=function(e){return t.toString.call(this).match(/^\[object\s(.*)\]$/)[1]}),t.extend||(i.defineProperty(t,"extend",{configurable:!0,writable:!0}),t.extend=function(){for(var t=0,e=arguments.length;e>t;t++){var i=arguments[t];for(var n in i)this[n]=i[n]}return this}),t.objectToParams||(i.defineProperty(t,"objectToParams",{configurable:!0,writable:!0}),t.objectToParams=function(){var t="",e=[],i=encodeURIComponent;if("string"==typeof this)t=this;else{for(var n in this)if(this.hasOwnProperty(n)){var s=this[n];switch(typeof s){case"object":s=JSON.stringify(this[n]);break;case"string":s=s}e.push(n+"="+i(s))}t=e.join("&")}return t}),t.countProperties||(i.defineProperty(t,"countProperties",{configurable:!0,writable:!0}),t.countProperties=function(){var t=0;for(var e in this)this.hasOwnProperty(e)&&t++;return t}),t.each||(i.defineProperty(t,"each",{configurable:!0,writable:!0}),t.each=function(t,e){e=e||this;var i,n,s;switch(this.getInstanceType()){case"Object":i=0,s=this.countProperties();for(n in this)if(this.hasOwnProperty(n)){if(t.call(e,n,this[n],i+1,s)===!1)return this;i++}break;default:for(i=0;i<this.length;i++)if(t.call(e,i,this[i],i+1,this.length)===!1)return this}return this}),t.equals||(i.defineProperty(t,"equals",{configurable:!0,writable:!0}),t.equals=function(t,e){if(1==arguments.length&&(e=this),t===e)return!0;if(!(t instanceof i&&e instanceof i))return!1;if(t.constructor!==e.constructor)return!1;for(var n in t)if(t.hasOwnProperty(n)){if(!e.hasOwnProperty(n))return!1;if(t[n]===e[n])continue;if("object"!=typeof t[n])return!1;if(!i.equals(t[n],e[n]))return!1}for(n in e)if(e.hasOwnProperty(n)&&!t.hasOwnProperty(n))return!1;return!0}),t.clone||(i.defineProperty(t,"clone",{configurable:!0,writable:!0}),t.clone=function(t){return i.create(this)}),t.watch||(i.defineProperty(t,"watch",{configurable:!0,writable:!0}),t.watch=function(t,e){o.watch(this,t,e)}),t.unwatch||(i.defineProperty(t,"unwatch",{configurable:!0,writable:!0}),t.unwatch=function(t){o.unwatch(this,t)}),t.initial||(i.defineProperty(t,"initial",{configurable:!0,writable:!0}),t.initial=function(t,e){return this[t]||(this[t]=e)}),t.setValueOfHref||(i.defineProperty(t,"setValueOfHref",{configurable:!0,writable:!0}),t.setValueOfHref=function(t,e){var i,n="string"==typeof e?e.staticAnalysis():null;switch(n){case"number":case"boolean":i="scope."+t+" = "+e;break;default:i="scope."+t+" = value"}new Function("scope","value",i)(this,e)}),t.getValueByString||(i.defineProperty(t,"getValueByString",{configurable:!0,writable:!0}),t.getValueByString=function(){var t=/[^\w|\_|\$|\.|\[|\]$]+/;return function(e){if(!e)return this;var i,n,s,r=[],o=[],a=[];e.split(t).each(function(t,e){e=e.split(".")[0],e&&"undefined"===e.staticAnalysis()&&o.push(e)});for(i in this)r.push(this[i]),a.push(i);for(i=0,n=o.length;n>i;i++)s=o[i],s in this&&(a.push(s),r.push(this[s]));return new Function(a.join(","),"try { return ("+e+") } catch (e) {}").apply(this,r)}}())}(i.prototype),!function(t){t.inArray||(i.defineProperty(t,"inArray",{configurable:!0,writable:!0}),t.inArray=function(t){for(var e=this.length;e--;)if(this[e]===t)return!0;return!1}),t.map||(i.defineProperty(t,"map",{configurable:!0,writable:!0}),t.map=function(t){for(var e=[],i=0;i<this.length;i++){var n=t(this[i],i);null!=n&&e.push(n)}return e}),t.unique||(i.defineProperty(t,"unique",{configurable:!0,writable:!0}),t.unique=function(){for(var t,e=[],i={},n=0;null!=(t=this[n]);n++)i[t]||(e.push(t),i[t]=!0);return e})}(t.prototype),!function(t){t.toucher||(i.defineProperty(t,"toucher",{configurable:!0,writable:!0}),t.toucher=function(t){var e=this.ownerDocument.defaultView;return this.touch||this.extendProperty("touch",new e.Touch(this,t)),this.touch}),t.scroller||(i.defineProperty(t,"scroller",{configurable:!0,writable:!0}),t.scroller=function(t){var e=this.ownerDocument.defaultView;return this.scroll||this.extendProperty("scroll",new e.Scroll(this,t)),this.scroll}),t.observer||(i.defineProperty(t,"observer",{configurable:!0,writable:!0}),t.observer=function(t,e){var i=m.MutationObserver,t=t||{attributes:!0,childList:!0,characterData:!0,attributeOldValue:!0,attributeFilter:["id","class","style","src","width","height"]};try{if(i)new i(function(t){e(t)}).observe(this,t);else{var n=[],s=[];t?(t.each(function(t,e){switch(e){case"attributes":s.push("DOMAttrModified");break;case"childList":s.push("DOMNodeInserted"),s.push("DOMNodeRemoved");break;case"characterData":s.push("DOMCharacterDataModified");break;case"subtree":s.push("DOMNodeInserted"),s.push("DOMNodeRemoved"),s.push("DOMNodeInsertedIntoDocument"),s.push("DOMNodeRemovedFromDocument")}}),s=8==s.length?"DOMSubtreeModified":s.join(" ")):s="DOMSubtreeModified",this.bind(s,function(t){0==n.length&&setTimeout(function(){e([].concat(n)),n=[]},0),n.push(t)})}}catch(r){application.console.log(r)}})}(Element.prototype),!function(t){t.insertToSelectionRange||(i.defineProperty(t,"insertToSelectionRange",{configurable:!0,writable:!0}),t.insertToSelectionRange=function(t,e){var i=(t||m.document).ownerDocument.defaultView.getSelection(),n=i.createRange?i.createRange():i.anchorNode?i.getRangeAt(0):null,s=this.textContent;if(null==n)e&&t.append(s);else{n.collapse(!1);var r=n.createContextualFragment(s),o=r.lastChild;n.insertNode(r),o&&(n.setEndAfter(o),n.setStartAfter(o)),i.removeAllRanges(),i.addRange(n)}})}(m.Node.prototype),!function(t){t.set||(i.defineProperty(t,"set",{configurable:!0,writable:!0}),t.set=function(t,i){if(t&&i){var s,r,t,o=[n.prefix+t,t];for(i=i.replace(u.size,function(t,e,i){return e*UNIT[i]+"px"}),s=0,r=o.length;r>s;s++)if(t=o[s],t in e)return this.setProperty(t,i)}}),t.remove||(i.defineProperty(t,"remove",{configurable:!0,writable:!0}),t.remove=function(t){for(var e=[n.prefix+t,t],i=0,s=e.length;s>i;i++){var t=e[i];this.propertyIsEnumerable(t)&&this.removeProperty(t)}})}(a.prototype),!function(t){t.setCookie||(i.defineProperty(t,"setCookie",{configurable:!0,writable:!0}),t.setCookie=function(t,e,i,n){var s=30,r=new Date;r.setTime(r.getTime()+24*s*60*60*1e3),g.cookie=t+"="+escape(e)+";expires="+r.toGMTString()+(i?";path="+(n?n:"/")+";domain="+i:"")}),t.getCookie||(i.defineProperty(t,"getCookie",{configurable:!0,writable:!0}),t.getCookie=function(t){var e,i=new RegExp("(^| )"+t+"=([^;]*)(;|$)");return(e=g.cookie.match(i))?unescape(e[2]):null}),t.delCookie||(i.defineProperty(t,"delCookie",{configurable:!0,writable:!0}),t.delCookie=function(t){var e=new Date;e.setTime(e.getTime()-1);var i=getCookie(t);null!=i&&(g.cookie=t+"="+i+";expires="+e.toGMTString())})}(g),!function(t){var e=t.prototype,i=e.parseFromString;try{if((new t).parseFromString("","text/html"))var n=!0}catch(s){}e.parseFromString=function(t,e){if(/^\s*text\/html\s*(?:;|$)/i.test(e)){var s;n&&(s=i.apply(this,arguments));try{var r=s.body}catch(o){}if(!r)if(s=g.implementation.createHTMLDocument(""),t.toLowerCase().indexOf("<!doctype")>-1)s.documentElement.innerHTML=t;else{try{var r=s.body}catch(o){}if(r)s.body.innerHTML=t;else{s.documentElement.innerHTML=t;for(var a,h=g.createNodeIterator(s.documentElement,NodeFilter.SHOW_ALL,null,!1);(a=h.nextNode())&&"BODY"!=a.nodeName;);h.body=a,s=h}}return s}return i.apply(this,arguments)}}(r),m.addEventListener("touchmove",p,!1)}(),top.factWindowWidth=top.innerWidth,top.factWindowHeight=top.innerHeight,top.addEventListener("resize",function(){top.factWindowWidth=top.innerWidth,top.factWindowHeight=top.innerHeight}),top.addEventListener("touchmove",p,!1)}}(),__defineUnify__(window)}(),define("frameworks/lib/application",["frameworks/lib/proto","frameworks/lib/async","frameworks/lib/transform","frameworks/lib/template"],function(t,e,i){"use strict"}),define("frameworks/lib/proto",["frameworks/lib/query","frameworks/lib/move","frameworks/lib/promise","frameworks/lib/scroll","frameworks/lib/touch","frameworks/lib/loader"],function(t,e,i){"use strict";e.exports=function(){return function(e){Object.defineProperty(e,"$$",{configurable:!0,writable:!0}),e.$=e.query=t("frameworks/lib/query")(e),e.$.fn.scroll=function(t){this.scroller(t)},Object.defineProperty(e,"move",{configurable:!0,writable:!0}),e.move=t("frameworks/lib/move"),Object.defineProperty(e,"Promise",{configurable:!0,writable:!0}),e.promise=t("frameworks/lib/promise"),Object.defineProperty(e,"Scroll",{configurable:!0,writable:!0}),e.Scroll=t("frameworks/lib/scroll")(e,e.document,e.Math),Object.defineProperty(e,"Touch",{configurable:!0,writable:!0}),e.Touch=t("frameworks/lib/touch")(e,e.document,void 0),Object.defineProperty(e,"Loader",{configurable:!0,writable:!0}),e.Loader=t("frameworks/lib/loader"),!function(){!function(t){var i=e.Node.prototype,n=["namepsace","constructor","forEach","reduce","push","indexOf","concat","selector","oldElement","slice","setupOld","find","html","text","css","computedStyle","empty","hide","show","toggle","val","attr","removeAttr","prop","removeProp","remove","addClass","removeClass","toggleClass","replaceClass","hasClass","append","appendTo","prependTo","prepend","before","after","get","offset","height","width","parent","parents","childrens","siblings","closest","filter","not","data","end","clone","size","serialize","eq","index","is","bind","unbind","one","delegate","undelegate","on","off","trigger","click","keydown","keyup","keypress","submit","load","resize","change","select","error"],s=["trigger","bind","unbind","on","one","off","load"],r=["trigger","bind","unbind","on","one","off","ready"],o=function(e){return function(e){return function(){var i=t(this);return i[e].apply(i,arguments)}}(e)};n.each(function(t,e){i[e]||(i[e]=o(e))});for(var a in s){var h=s[a];e[h]=o(h)}for(var a in r){var h=r[a];e.document[h]=o(h)}}(e.$$)}(),!function(){var t=0;e.top.addEventListener("scroll",function(){var i={x:top.scrollX,y:top.scrollY};0==t&&(e.onscrollstart&&e.onscrollstart(i),e.trigger("scrollstart",i)),clearTimeout(t),t=setTimeout(function(){t=0,e.onscrollend&&e.onscrollend(i),e.trigger("scrollend",i)},50),e!==top&&(e.onscrollend&&e.onscroll(i),e.trigger("scroll"))},!1)}()}}()}),define("frameworks/lib/transform",[],function(t,e,i){"use strict";function n(){return this instanceof n?void 0:new n}n.prototype={init:function(t){this.DNA=t,window.addEventListener("hashchange",function(t){application.transform.back(t)},!1),document.documentElement.style.height=document.body.style.height="100%",document.body.style.overflow="hidden";var e=document.createElement("relative-windows");e.id="relative-viewport",e.style.position="fixed",e.style.zIndex=1,e.style.width=e.style.height="100%",e.style.overflow="hidden",t(e),application.defend(e),application.relativeViewport=e;var i=document.createElement("absolute-windows");i.id="absolute-viewport",i.style.position="fixed",i.style.zIndex=1e4,i.style.width=i.style.height="100%",i.style.overflow="hidden",t(i),application.defend(i),application.absoluteViewport=i,document.body.appendChild(application.relativeViewport),document.body.appendChild(application.absoluteViewport)},back:function(t){if(void 0!==this.module){if(this.hashchange===!1)return this.hashchange=!0;if(this.singleflow&&0===this.module.config.level)return this.hash(this.module.id);var e=location.hash.replace("#","").split("$"),i=e[0],n=e[1],s=application.modules[i];i&&(this.singleflow&&s&&s.config.level>=this.module.config.level?top.history.back():application.transform.to(i,n,-1)),application.trigger("back",{id:i,module:s})}},hash:function(t,e){this.hashchange=!1,window.location.hash=t+(e?"$"+e.replace(/\s/g,""):"")},status:function(t,e){t=this.module.param.extend(t).objectToParams(),e?this.hash(this.id,t):history.replaceState({},null,"#"+this.id+(t?"$"+t.replace(/\s/g,""):""))},to:function(t,e,i,n){var s=this;if(this.id=t,e=e||null,this.callback=n||noop,!isNaN(t))return window.history.go(parseInt(t));var r=this.od,o=r?[t,r]:[t],a=application.modules[t],h=application.modules[r],c=r?[a,h]:[a];return s.loading(r,0),void 0===a?(this.loading(r,1),application.get(t,function(){s.loading(r,0),s.to(t,e,i)})):(this.ids=o,this.module=a,this.modulu=h,this.moduli=c,this.fetch(a,e),void(r&&t==r&&a.dimension==e&&!a.update||(e&&a.setParam(e,!0),this.animation=r&&t!=r&&"frameworks"!=r?a.config.animation===!0?application.modules.frameworks.config.animation:a.config.animation:!1,this.cutting=!(!r||a.config.absolute==h.config.absolute),this.build(t,function(){this.start(function(){r?this.transform(t,i):(this.cut(),this.end()),this.od=application.activity="frameworks"==t?null:t,-1!=i&&this.hash(t,e)})}))))},fetch:function(t,e){Date.now()-t.updatetime[e]>1e3*t.config.cache&&(delete t.prefetch[e],t.dimension=!1),this.prefetched=!!t.prefetch[e]},build:function(t,e){var i=this,n=application.modules,s=n[t],r=function(){e.call(i)};s.elements.container||this.container(t),s.loaded&&s.update!==!0&&s.config.update!==!0?r():this.prefetched?this.include(t,r):(r(),this.include(t))},reset:function(t,e){var i=this.module.elements.container.style;i.cssText="",i.position="frameworks"==t?"static":"fixed",i.zIndex=(this.module.config.level||0)+1,i.top=0,i.right=0,i.bottom=0,i.left=0,i.width="100%",i.height="100%",i.set("transform",e?"translate(0, 0) translateZ(0)":"translate(200%, 200%) translateZ(0)")},include:function(t,e){var i=this,n=application.modules[t],s=n.dimension;e=e||noop,n.update!==!0&&0==n.status[s]||(n.status[s]=0,n.elements.container.innerHTML=null,n.elements.loader=null,this.loading(t,1),"function"==typeof n.preload&&n.preload(),application.template(t,this.DNA).prefetch(function(){i.callback()}).then(function(){n.status[s]="loaded",n.loaded=!0,e()}).end(function(){"function"==typeof n.onload&&n.onload(),i.loading(t,0)}).error(function(){"function"==typeof n.onerror&&n.onerror(),n.status[s]="error",i.loading(t,0)}))},loading:function(t,e){var i=application.modules,n=i[t];if(n){var s=n.elements.loader;switch(e){case 0:if(!s)return;s.hide(),n.elements.loader.hidden=!0,n.elements.loader.cont.style.display="none";break;case 1:if(s&&0==s.hidden)return;var r=38*device.ui.scale,o={shape:"roundRect",diameter:r*devicePixelRatio,density:12,speed:1,FPS:12,range:.95,color:"#999999"},a=n.config.loader||i.frameworks.config.loader;a&&o.extend(a),s=new Loader(n.elements.container,{safeVML:!0}),s.setShape(o.shape),s.setDiameter(o.diameter),s.setDensity(o.density),s.setSpeed(o.speed),s.setFPS(o.FPS),s.setRange(o.range),s.setColor(o.color),s.show(),s.cont.style.position="absolute",s.cont.style.zIndex=999,s.cont.style.top=s.cont.style.left="50%",s.cont.style.marginTop=s.cont.style.marginLeft=r*-.5+"px",s.cont.style.width=s.cont.style.height=r+"px",s.cont.children.each(function(t,e){e.style.width=e.style.height=r+"px"}),this.DNA(s.cont),n.elements.loader=s,n.elements.loader.hidden=!1}}},container:function(t){var e=application.modules[t],i=e.config.absolute===!1?application.relativeViewport:application.absoluteViewport,n=document.createElement("module-container");n.setAttribute("name",t),this.DNA(n),application.defend(n),e.elements.container=n,this.reset(t,this.cutting||!this.animation),i.appendChild(n)},transform:function(t,e){function i(t){a&&n.cut(t),n.end(t)}var n=this,s=this.module,r=this.modulu,o=this.moduli,a=s.config.absolute!=r.config.absolute,h=1==o.length||s.config.level==r.config.level?0:s.config.level>r.config.level?1:-1,c=1!=h,l=this.animation||function(t){t.callback(!n.animation)};l({view:a?[s.config.absolute===!1?application.relativeViewport:application.absoluteViewport,r.config.absolute===!1?application.relativeViewport:application.absoluteViewport]:[s.elements.container,r.elements.container],viewport:[application.relativeViewport,application.absoluteViewport],modules:o,reverse:c,backset:h,callback:i})},start:function(t){return"function"==typeof this.module.transformstart&&0==this.module.transformstart()?!1:(this.module.elements.sandbox&&this.module.elements.sandbox.window.trigger("moduleshow",{ids:this.ids,modules:this.modules}),this.modulu&&this.modulu.elements.sandbox&&this.modulu.elements.sandbox.window.trigger("modulehidden",{ids:this.ids,modules:this.modules}),!this.cutting&&this.animation||this.module.elements.container.css({transform:"translate(0, 0) translateZ(0)"}),application.trigger("transformstart",{ids:this.ids,modules:this.moduli}),void t.call(this))},end:function(t){t&&this.animation||this.modulu&&(this.modulu.elements.container.css({transform:"translate(200%, 200%) translateZ(0)"}),this.reset(this.id,!0)),"function"==typeof this.module.transformend&&this.module.transformend(),application.trigger("transformend",{ids:this.ids,modules:this.moduli})},cut:function(t){this.animation&&t||(this.module.config.absolute===!1?(application.absoluteViewport.css({transform:"translate(200%, 200%) translateZ(0)"}),application.relativeViewport.css({transform:"translate(0, 0) translateZ(0)"})):(application.relativeViewport.css({transform:"translate(200%, 200%) translateZ(0)"
}),application.absoluteViewport.css({transform:"translate(0, 0) translateZ(0)"})))}},e.exports=n}),define("frameworks/lib/template",["frameworks/lib/css","frameworks/lib/dom"],function(t,e,i){"use strict";function n(t,e){return this instanceof n?void(t&&e&&this.init(t,e)):new n(t,e)}var s=t("frameworks/lib/css"),r=t("frameworks/lib/dom");n.prototype={init:function(t,e){this.id=t,this.DNA=e,this.css=new s,this.dom=new r,this.dom.css=this.css,this.module=application.modules[t],this.config=this.module.config,this.target=this.module.elements.container},render:function(t,e){return t&&e&&this.write(this.compile(t,e[0],e[1],e[2])),this},write:function(t){this.config.sandbox?this.sandbox(t[0],t[1]):this.embed(t[0],t[1])},compile:function(t,e,i,n){return this.css.setup({module:t,data:{module:t,config:this.config,device:device,dpi:device.ui.dpi,os:device.os,feat:device.feat,prefix:device.feat.prefix},modle:this.config.sandbox||this.config.shadowbox||"frameworks"==t?null:"#module-"+t+"-context"}),n.data.extend({module:this.module,device:device}),this.dom.init(t).setup({module:t,suri:i,dids:e.data,sids:e.source}),[this.css.render(this.config.style,e.style,n.style),this.dom.render(this.config.source[0],n.source,n.data)]},include:function(t){var e=this,i=this.module,n=this.config,s=i.dimension,r=i.prefetch[s];return r&&Date.now()-i.updatetime[i.dimension]<1e3*i.config.cache?this.render(t,r):void application.async.get(t,n,i.param,function(){e.fetched(),e.render(t,arguments),i.config.cache&&!i.config.update&&(i.prefetch[i.dimension]=arguments,i.updatetime[i.dimension]=Date.now())},this.errored)},scope:function(t,e){var i=this.id,n=this.dom,s=this.config,r=this.module,o=t.window;t.document;o.module=this.module,o.application=application,o.validWindow=o,o.TOP=window,o.DOM=n.DOM[0],o.DATA=o.SCOPE=o.scope=n.DATA,o.root=e,o.node=function(t){return n.DOM[0][t]||e.find(t)},application.modules[i].elements.sandbox=t,application.modules[i].elements.context=e,o.application.update=function(t){t=t?t:s.source[0],application.async.source(t,s,"data").then(function(e,i,s){!e&&s&&n.update(t,0,s)})},o.onerror=function(){application.trigger("error",{id:i,module:r})},o!=window&&(__defineUnify__(o),__defineProto__(o))},trick:function(t,e){if(t.window!=window){var i=this;t.validWindow=window,t.window.document.extendProperty("getElementById",function(t){return i.dom.DOM[0][t]||e.find("#"+t)[0]||window.document.getElementById(t)}),t.window.document.extendProperty("getElementsByName",function(t){return e.find("*[name="+t+"]").toArray()||window.document.getElementsByName(t)}),t.window.document.extendProperty("getElementsByClassName",function(t){return e.find("."+t).toArray()||window.document.getElementsByClassName(t)}),t.window.document.extendProperty("getElementsByTagName",function(t){return e.find(t).toArray()||window.document.getElementsByTagName(t)}),t.window.document.extendProperty("getElementsByTagNameNS",function(t,e){return window.document.getElementsByTagNameNS(t,e)}),t.window.document.extendProperty("querySelector",t.window.parent.document.querySelector)}},wrap:function(t,e,i,n){var s=document.createElement("style");s.name=t,s.innerHTML=e,s.extendProperty("DNA",this.DNA);var r=document.createElement("module-context");return r.id="module-"+t+"-context",r.name=t,r.className="module-context",this.DNA(r),"frameworks"==t&&0==n?document.head.appendChild(s):r.appendChild(s),r.appendChild(i),r},script:function(){var t=this.id,e="",i=this.module,n=i.config,s=n.script||[],r=i.resources;return s.each(function(i,n){e+="<script src="+application.realpath(t,null,r.script[n])+"></script> \n"}),e},style:function(t){return"<style>"+t+"</style>"},sandbox:function(t,e){var i=this,n=this.id,s=(this.module,this.config),r=new Sandbox(!0,!0,{attr:{name:n,src:"about:blank",seamless:"seamless",sandbox:"string"==typeof s.sandbox?s.sandbox:"allow-same-origin allow-scripts allow-forms allow-top-navigation",style:"display: block; position: absolute; z-index: 0; width: 100%; height: 100%; border: 0"},style:this.style(t),script:this.script(),target:this.target},this.DNA);this.scope(r,r.document),r.window.trigger("sandboxready"),r.document.ready(function(){r.document.body.appendChild(e),i.dom.space(r.window,r.document.body,i.DNA).load(i.loaded).end(0),i.readied()})},embed:function(t,e){var i=this.id,n=this.module,s=this.config,r=s.shadowbox?this.target.createShadowRoot():this.target,o=this.wrap(i,t,e,0),a="frameworks"==i?function(){var t=s.script||[],e=n.resources;return t.each(function(t,n){var s=document.createElement("script");s.src=application.realpath(i,null,e.script[n]),document.head.append(s)}),window}():new Sandbox(!0,!0,{attr:{name:i,src:"about:blank",seamless:"seamless",sandbox:"string"==typeof s.sandbox?s.sandbox:"allow-scripts allow-top-navigation allow-same-origin",style:"display: none;"},script:this.script(),target:r},this.DNA);this.scope(a,o),a.window.trigger("sandboxready"),r.appendChild(o),this.trick(a,o),this.dom.space(a.window,o,this.DNA).load(this.loaded).end(0),this.readied()},prefetch:function(t){return this.fetched=t,this},then:function(t){return this.readied=t,this},end:function(t){return this.loaded=t,this.include(this.id),this},error:function(t){return this.errored=t,this}},e.exports=n}),define("frameworks/lib/dom",[],function(t,e,i){"use strict";e.exports={}}),define("frameworks/lib/css",[],function(t,e,i){"use strict";var n={},s={},r={variable:/\+?\$(\w+\-?\w?)\+?/g,size:/\b(\d*\.?\d+)+(px|dp|vm|vw|vh)\b/gi,"if":/\((.*)\)/,url:/\burl\((.*)\)/,fun:/(\w+)\((.*)\)/,eval:/\<(.*)\>/,evals:/\<(.*)\>/g,"class":/\bclass[\s]?(\w+)[\s]?\((.*)\)/,section:/\((.*)\)/,comment:/\/\*[\s\S]*?\*\//g,attr:/([^\:]+):([^\;]*)[\;\}]/,alt:/(\/\*[\s\S]*?\*\/)|([^\s\;\{\}][^\;\{\}]*(?=\{))|(\})|([^\;\{\}]+[\;\}](?!\s*\*\/))/gim},o=1,a=2,h=3,c=4,l=function(t){return"undefined"==typeof t||0==t.length||null==t},u=device.feat.getPrefixStyleProp,d=function(t){return this instanceof d?void this.setup(t):new d(t)};d.prototype={setup:function(t){this.config=t||{root:"modules/",data:{},modle:!1},this.variable={attributes:{},children:{}},this._modle=0==device.feat.shadowRoot&&this.config.modle?this.config.modle+" ":""},clear:function(){this.variable={attributes:{},children:{}}},render:function(t,e,i){var n=this.compile("frameworks",CSSBaseStyle);if(!t)throw"IOING ERROR { module "+e+" css source is null }";for(var s=0,r=t.length;r>s;s++){var o=t[s];n+=this.compile(e[o],i[o])}return n},compile:function(t,e,i,n){return this.id=t,this.opts=n||{},this.scope={}.extend(this.config.data,i),this.modle=this.opts.modle?this._modle+this.opts.modle+" ":this._modle,this.toCSS(this.data=this.toJSON(e))},toJSON:function(t,e){var i={children:{},attributes:{}},n=null,s=0;if("undefined"==typeof e)var e={ordered:!1,comments:!1,stripComments:!1,split:!1};for(e.stripComments&&(e.comments=!1,t=t.replace(r.comment,""));null!=(n=r.alt.exec(t));)if(!l(n[o])&&e.comments){var u=n[o].trim();i[s++]=u}else if(l(n[a])){if(!l(n[h]))return i;if(!l(n[c])){var d=n[c].trim();"}"==d.charAt(d.length-1)&&(r.alt.lastIndex=r.alt.lastIndex-1);var f=r.attr.exec(d);if(f){var p=f[1].trim(),m=f[2].trim();if(e.ordered){var g={};g.name=p,g.value=m,g.type="attr",i[s++]=g}else if(p in i.attributes){var v=i.attributes[p];v instanceof Array||(i.attributes[p]=[v]),i.attributes[p].push(m)}else i.attributes[p]=m}else i[s++]=d}}else{var p=n[a].trim(),y=this.toJSON(t,e);if(e.ordered){var g={};g.name=p,g.value=y,g.type="rule",i[s++]=g}else{if(e.split)var b=p.split(",");else var b=[p];for(var w in b){var x=b[w].trim();if(x in i.children)for(var S in y.attributes)i.children[x].attributes[S]=y.attributes[S];else i.children[x]=y}}}return i},toCSS:function(t,e,i,n){var s="";if("undefined"==typeof e&&(e=0),"undefined"==typeof i&&(i=!1),"undefined"==typeof n&&(n=!1),t.attributes)for(h in t.attributes){var r=t.attributes[h];if(r instanceof Array)for(var o=0;o<r.length;o++)s+=this._setAttr(h,r[o],e,i);else s+=this._setAttr(h,r,e,i)}if(t.children){var a=!0;for(var h in t.children)n&&!a?s+="\n":a=!1,s+=this._setNode(h,t.children[h],e,i)}return s},realpath:function(t){return application.realpath(this.id,null,t,this.opts.path)},_getVariable:function(t,e){var i=this.scope,n=(this.config,this.variable);return t.replace(r.variable,function(t,r){var o;return e&&n.children[e]&&(o=n.children[e].getValueByString(r)),o?o:n.attributes.getValueByString(r)||s.getValueByString(r)||i.getValueByString(r)})},_setAttr:function(t,e,i,s){var o=this,a=(this.id,this.scope),h=(this.config,"");switch(e=this._getVariable(e,s),t=u(t),e=(-1!=e.indexOf("<")?e.replace(r.eval,function(t,e){return e=a.getValueByString(e.replace(r.size,function(t,e,i){return e*(UNIT[i]||1)})),"number"==typeof e?e+"px":e}):e).replace(r.size,function(t,e,i){return e*(UNIT[i]||1)+"px"}),t){case"background-image":case"border-image":case"background":case"content":case"src":e=-1!=e.indexOf("url(")?e.replace(r.url,function(t,e){return"url("+o.realpath(e?e.removeQuotes():"")+")"}):e;break;case"@extend":var c=this.data.children[e];if(c){var l=c.attributes;for(t in l)h+="	".repeat(i)+t+": "+l[t]+";\n";return h}break;case"@class":var d=r.fun.exec(e),t=d[1],f=d[2].split(/[\s]?\,[\s]?/),p=this.data.children["@"+t]||n[t]||{},m=p.args,l=p.attr;for(t in l)h+=this._setAttr(t,l[t].replace(r.evals,function(t,e){return f[m[e]]}),0,!1);return h}return"	".repeat(i)+t+": "+e+";\n"},_setNode:function(t,e,i,o){var a="",h=this.modle,c=[],l=0,u=0,d=!1,f={};if(0==t.indexOf("@"))switch(h="",c=t.split(/\b/),c[1]){case"keyframes":d=!1,t="@"+device.feat.keyframesPrefix+"keyframes "+c[1];break;case"section":d=!1,0==i&&(o=r.section.exec(t),o=o?o[1]:"section:error");break;case"class":d=!0,t=r["class"].exec(t);for(var p=t[1],m=t[2],g={},v=m.split(/[\s]?\,[\s]?/),y=0,b=v.length;b>y;y++)g[v[y]]=y;this.data.children["@"+p]={args:g,attr:e.attributes},"frameworks"==this.id&&(n[p]=this.data.children["@"+p]);break;case"global":if(d=!0,0==i){f=e.attributes;for(var w in f)s[w]=f[w]}break;case"var":if(d=!0,0==i||o){f=e.attributes;for(var w in f)o?(this.variable.children[o]||(this.variable.children[o]={}),this.variable.children[o][w]=f[w]):this.variable.attributes[w]=f[w]}break;case"if":d=!1,0==i&&(o=!0,this.scope.getValueByString(r["if"].exec(t)[1])||delete e.children)}if(o&&(l=i>0,u=0==i),0==d){c=t.split(","),t="";for(var y=0,b=c.length;b>y;y++)t+=(h?h:"")+(1==o||0==o?"":o+" ")+c[y].trim()+(y==b-1?"":", ");a+=u?"":(l?"":"	".repeat(i))+t+" {\n",a+=this.toCSS(e,i+1,o),a+=u?"":(l?"":"	".repeat(i))+"}\n"}return a}},e.exports=d}),define("frameworks/lib/async",["frameworks/lib/promise"],function(require,module,exports){"use strict";var promise=require("frameworks/lib/promise"),Promise=promise.Promise,Get=function(){return this instanceof Get?void 0:new Get};Get.prototype={uri:function(id,param,name,type,callback){var that=this,uri,realname,remote,module=application.modules[id];if(!module)return application.get(id,function(){that.uri(id,param,name,type,callback)});"object"==typeof name&&(realname=name[0],name=name[1]);try{uri=module.resources[type][name]}catch(e){}if(uri||application.console.error("resources."+type+'["'+name+'"] is not definde'),"function"!=typeof uri||(uri=callback.call(this,id,realname||name,function(t){return uri(param,t)},"function"),void 0!==uri)){if("object"==typeof uri)return callback.call(this,id,realname||name,uri,"object");if("string"==typeof uri){if(uri=uri.trim(),uri.indexOf("::")>0&&(uri=uri.split(/\:\:/),2===uri.length))return this.uri(uri[0],param,[name,uri[1]],type,callback);if(0===uri.indexOf("#"))return uri=document.getElementById(uri.substr(1)),uri=uri?uri.innerHTML:"",callback.call(this,id,realname||name,uri,"object");if(uri=application.realpath(id,null,uri),(0==uri.indexOf("//")||uri.indexOf("://")>0)&&(remote=application.modules[id].network=!0),uri.indexOf("|@")>-1){var urs=uri.split(/\|\@/),url=urs[0];uri={url:url,remote:remote,method:"GET"};for(var i=1,l=urs.length;l>i;i++){var helpher=/(\w+)\((.*)?\)/g.exec(urs[i]),helper=helpher[1],value=helpher[2];switch(helper){case"param":uri.param=value?eval("({"+value.replace(/\{\{(.*?)\}\}/g,function(t,e){return param.getValueByString(e)})+"})"):{};break;case"cache":uri.cache=value||60;break;case"origin":uri.origin=!0;break;case"method":uri.method=value}}}else uri={url:uri,remote:remote,method:"GET"};return callback.call(this,id,realname||name,uri,"url")}}},async:function(t,e,i,n,s){var r=this,o=[],a=application.modules[t];for(var h in i)o.push(function(){var s=new Promise;return this.uri(t,e,i[h],n,function(t,e,i,o){switch(o){case"object":s.done(null,t,e,null,i);break;case"function":var h=function(n){s.done(null,t,e,i,n)},c=i(h);if("object"!=typeof c&&void 0!==c)return c;h(c);break;case"url":var l=i.cache?i.url+i.param:!1,u=l?sessionStorage.getItem(l):!1;if(u){var d=/(\d+)\|\|\|/.exec(u)||[0,0];Date.now()-d[1]>1e3*i.cache?(sessionStorage.removeItem(l),u=!1):u=u.substr(d[0].length)}if(u){application.console.info("Data ["+e+"] from cache"),s.done(null,t,e,i.url,JSON.parse(u));break}if(i.remote)var f=Date.now();promise.ajax(i.method,i.url,i.param,null,null,i.origin?e:null,i.origin?n:null).then(function(o,h,c){if(o)return r.error();if("data"==n){if("string"==typeof h)try{h=JSON.parse(h)}catch(u){throw application.console.error("url["+i.url+"] callback error"),u}if(a.filter&&(h=a.filter(h,e)||h),l&&i.remote)try{sessionStorage.setItem(l,Date.now()+"|||"+(c.response||JSON.stringify(h))),a.storagemaps.push(l)}catch(u){application.console.warn("your browser does not support sessionStorage")}}s.done(o,t,e,i.url,h),i.remote&&application.trigger("requestserver",{url:i.url,time:Date.now()-f})})}}),s}.call(this));promise.join(o).then(function(t){for(var e=[],i=[],r=[],o=0,a=t.length;a>o;o++){var h=t[o],c=h[1],l=h[2],u=h[3],d=h[4];e[l]=c,i[l]=u,r[l]=d}s.done(null,e,i,r,n)})},source:function(t,e,i,n){var s=new Promise;return i[n]&&i[n].length?this.async(t,e,i[n],n,s):s.done(null,t,null,{},n),s},get:function(t,e,i,n,s){this.error=s||noop,promise.join([this.source(t,i,e,"data"),this.source(t,i,e,"style"),this.source(t,i,e,"source")]).then(function(t){for(var e=[],i=[],s=[],r=0,o=t.length;o>r;r++){var a=t[r],h=a[4];e[h]=a[1]||{},i[h]=a[2]||{},s[h]=a[3]||{}}n(e,i,s)})}},module.exports=Get}),define("frameworks/lib/loader",[],function(t,e,i){e.exports=function(t){"use strict";var e,i=function(t,e){"undefined"==typeof e&&(e={}),this.init(t,e)},n=i.prototype,s=["canvas","vml"],r=["oval","spiral","square","rect","roundRect"],o=/^\#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/,a=-1!==navigator.appVersion.indexOf("MSIE")&&8===parseFloat(navigator.appVersion.split("MSIE")[1]),h=!!document.createElement("canvas").getContext,c=40,l=!0,u=function(t,e,i){var n,s=document.createElement(t);for(n in i)s[n]=i[n];return"undefined"!=typeof e&&e.appendChild(s),s},d=function(t,e){for(var i in e)t.style[i]=e[i];return t},f=function(t,e){for(var i in e)t.setAttribute(i,e[i]);return t},p=function(t,e,i,n){t.save(),t.translate(e,i),t.rotate(n),t.translate(-e,-i),t.beginPath()};return n.init=function(t,n){"boolean"==typeof n.safeVML&&(l=n.safeVML);try{void 0!==document.getElementById(t)?this.mum=document.getElementById(t):this.mum=document.body}catch(r){this.mum=document.body}if(this.mum=t,this.cont=u("loader",this.mum),h)e=s[0],this.can=u("canvas",this.cont),this.con=this.can.getContext("2d"),this.cCan=d(u("canvas",this.cont),{display:"none"}),this.cCon=this.cCan.getContext("2d");else{if(e=s[1],"undefined"==typeof i.vmlSheet){document.getElementsByTagName("head")[0].appendChild(u("style")),i.vmlSheet=document.styleSheets[document.styleSheets.length-1];for(var o,a=["group","oval","roundrect","fill"],o=0;o<a.length;++o)i.vmlSheet.addRule(a[o],"behavior:url(#default#VML); position:absolute;")}this.vml=u("group",this.cont)}this.setColor(this.color),this.draw(),d(this.cont,{display:"none"})},n.cont={},n.can={},n.con={},n.cCan={},n.cCon={},n.timer={},n.activeId=0,n.diameter=40,n.setDiameter=function(t){this.diameter=Math.round(Math.abs(t)),this.redraw()},n.getDiameter=function(){return this.diameter},n.cRGB={},n.color="#000000",n.setColor=function(t){this.color=o.test(t)?t:"#000000",this.cRGB=this.getRGB(this.color),this.redraw()},n.getColor=function(){return this.color},n.shape=r[0],n.setShape=function(t){var e;for(e in r)if(t===r[e]){this.shape=t,this.redraw();break}},n.getShape=function(){return this.shape},n.density=40,n.setDensity=function(t){l&&e===s[1]?this.density=Math.round(Math.abs(t))<=c?Math.round(Math.abs(t)):c:this.density=Math.round(Math.abs(t)),this.density>360&&(this.density=360),this.activeId=0,this.redraw()},n.getDensity=function(){return this.density},n.range=1.3,n.setRange=function(t){this.range=Math.abs(t),this.redraw()},n.getRange=function(){return this.range},n.speed=2,n.setSpeed=function(t){this.speed=Math.round(Math.abs(t))},n.getSpeed=function(){return this.speed},n.fps=24,n.setFPS=function(t){this.fps=Math.round(Math.abs(t)),this.reset()},n.getFPS=function(){return this.fps},n.getRGB=function(t){return t="#"===t.charAt(0)?t.substring(1,7):t,{r:parseInt(t.substring(0,2),16),g:parseInt(t.substring(2,4),16),b:parseInt(t.substring(4,6),16)}},n.draw=function(){var t,i,n,o,h,c,l,m,g,v,y,b,w,x=0,S=this.density,T=Math.round(S*this.range),E=0,P=1e3,_=0,k=this.cCon,C=this.diameter,I=.47;if(e===s[0])for(k.clearRect(0,0,P,P),f(this.can,{width:C,height:C}),f(this.cCan,{width:C,height:C});S>x;){switch(g=T>=x?1-(1-E)/T*x:g=E,c=270-360/S*x,l=c/180*Math.PI,k.fillStyle="rgba("+this.cRGB.r+","+this.cRGB.g+","+this.cRGB.b+","+g.toString()+")",this.shape){case r[0]:case r[1]:t=.07*C,o=C*I+Math.cos(l)*(C*I-t)-C*I,h=C*I+Math.sin(l)*(C*I-t)-C*I,k.beginPath(),this.shape===r[1]?k.arc(.5*C+o,.5*C+h,t*g,0,2*Math.PI,!1):k.arc(.5*C+o,.5*C+h,t,0,2*Math.PI,!1);break;case r[2]:t=.12*C,o=Math.cos(l)*(C*I-t)+.5*C,h=Math.sin(l)*(C*I-t)+.5*C,p(k,o,h,l),k.fillRect(o,h-.5*t,t,t);break;case r[3]:case r[4]:i=.24*C,n=.36*i,o=Math.cos(l)*(n+.13*(C-n))+.5*C,h=Math.sin(l)*(n+.13*(C-n))+.5*C,p(k,o,h,l),this.shape===r[3]?k.fillRect(o,h-.5*n,i,n):(m=.55*n,k.moveTo(o+m,h-.5*n),k.lineTo(o+i-m,h-.5*n),k.quadraticCurveTo(o+i,h-.5*n,o+i,h-.5*n+m),k.lineTo(o+i,h-.5*n+n-m),k.quadraticCurveTo(o+i,h-.5*n+n,o+i-m,h-.5*n+n),k.lineTo(o+m,h-.5*n+n),k.quadraticCurveTo(o,h-.5*n+n,o,h-.5*n+n-m),k.lineTo(o,h-.5*n+m),k.quadraticCurveTo(o,h-.5*n,o+m,h-.5*n))}k.closePath(),k.fill(),k.restore(),++x}else{switch(d(this.cont,{width:C,height:C}),d(this.vml,{width:C,height:C}),this.shape){case r[0]:case r[1]:b="oval",t=.14*P;break;case r[2]:b="roundrect",t=.12*P;break;case r[3]:case r[4]:b="roundrect",t=.3*P}for(i=n=t,o=.5*P-n,h=.5*-n;S>x;){switch(g=T>=x?1-(1-E)/T*x:g=E,c=270-360/S*x,this.shape){case r[1]:i=n=t*g,o=.5*P-.5*t-t*g*.5,h=.5*(t-t*g);break;case r[0]:case r[2]:a&&(h=0,this.shape===r[2]&&(o=.5*P-.5*n));break;case r[3]:case r[4]:i=.95*t,n=.28*i,a?(o=0,h=.5*P-.5*n):(o=.5*P-i,h=.5*-n),_=this.shape===r[4]?.6:0}y=f(d(u("group",this.vml),{width:P,height:P,rotation:c}),{coordsize:P+","+P,coordorigin:.5*-P+","+.5*-P}),v=d(u(b,y,{stroked:!1,arcSize:_}),{width:i,height:n,top:h,left:o}),w=u("fill",v,{color:this.color,opacity:g}),++x}}this.tick(!0)},n.clean=function(){if(e===s[0])this.con.clearRect(0,0,1e3,1e3);else{var t=this.vml;if(t.hasChildNodes())for(;t.childNodes.length>=1;)t.removeChild(t.firstChild)}},n.redraw=function(){this.clean(),this.draw()},n.reset=function(){"number"==typeof this.timer&&(this.hide(),this.show())},n.tick=function(t){var i=this.con,n=this.diameter;t||(this.activeId+=360/this.density*this.speed),e===s[0]?(i.clearRect(0,0,n,n),p(i,.5*n,.5*n,this.activeId/180*Math.PI),i.drawImage(this.cCan,0,0,n,n),i.restore()):(this.activeId>=360&&(this.activeId-=360),d(this.vml,{rotation:this.activeId}))},n.show=function(){if("number"!=typeof this.timer){var t=this;this.timer=self.setInterval(function(){t.tick()},Math.round(1e3/this.fps)),d(this.cont,{display:"block"})}},n.hide=function(){"number"==typeof this.timer&&(clearInterval(this.timer),delete this.timer,d(this.cont,{display:"none"}))},n.kill=function(){var t=this.cont;"number"==typeof this.timer&&this.hide(),e===s[0]?(t.removeChild(this.can),t.removeChild(this.cCan)):t.removeChild(this.vml);var i;for(i in this)delete this[i]},i}(window)}),define("frameworks/lib/promise",[],function(t,e,i){"use strict";function n(){this._callbacks=[]}function s(t){function e(t){return function(){r+=1,s[t]=Array.prototype.slice.call(arguments),r===o&&i.done(s)}}var i=new n,s=[];if(!t||!t.length)return i.done(s),i;for(var r=0,o=t.length,a=0;o>a;a++)t[a].then(e(a));return i}function r(t,e){var i=new n;return 0===t.length?i.done.apply(i,e):t[0].apply(null,e).then(function(){t.splice(0,1),r(t,arguments).then(function(){i.done.apply(i,arguments)})}),i}function o(){var t=new XMLHttpRequest;return"withCredentials"in t||(t="undefined"!=typeof XDomainRequest?new XDomainRequest:null),t}function a(t,e,i,s,r,a,h){function u(){m.open(t,e,!0),r.withCredentials&&(m.withCredentials=!0),r.contentType&&(s["Content-Type"]=r.contentType);var i="application/x-www-form-urlencoded";for(var n in s)s.hasOwnProperty(n)&&("content-type"===n.toLowerCase()?i=s[n]:m.setRequestHeader(n,s[n]));m.setRequestHeader("Content-type",i)}function d(){x&&clearTimeout(S),m.abort()}function f(){u(),m.send(b)}function p(){d(),l(e,d,f)}if(a||/=\~/.test(e))return c(e,i,a,h);var m,y=new n;r=r||{},s=s||{},i=i||{};var b=i.objectToParams();"GET"===t&&b&&(e+=(-1!=e.indexOf("?")?"&":"?")+b,b=null);try{m=o(t,e)}catch(w){return y.done(v.ENOXHR,""),y}(0==e.indexOf("//")||e.indexOf("://")>0)&&e.indexOf(window.location.host)<=8&&(m.withCredentials=!0);var x=v.ajaxTimeout;if(x)var S=setTimeout(p,x);return m.onerror=p,m.onload=function(){if(x&&clearTimeout(S),4===m.readyState){var t=!m.status||(m.status<200||m.status>=300)&&304!==m.status;delete g[e];var i=m.responseText;if("{"==i.charAt(0))try{i=JSON.parse(i)}catch(n){}y.done(t,i,m)}},f(),y}function h(t){return function(e,i,n,s,r,o){return a(t,e,i,n,s,r,o)}}function c(t,e,i,s){function r(){b&&clearTimeout(w);try{p.removeChild(u)}catch(t){}}function o(){u=f.createElement("script"),u.charset="utf-8",u.src=t,u.onerror=a,p.appendChild(u)}function a(){r(),l(t,r,o)}var h=new n,c=i?s+"_"+i:"call_"+ ++m,u=f.createElement("script"),e=e||{},y=e.objectToParams();y&&(t+=(-1!=t.indexOf("?")?"&":"?")+y,y=null),t=t.replace(/=\~/,"="+c),d.onerror=function(t){a(),application.trigger("jsonerror",t)};var b=v.ajaxTimeout;if(b)var w=setTimeout(a,b);return d[c]=function(e,i){r(),("data"!=i&&"js"!=i||"object"==typeof e)&&(delete d[c],delete g[t],h.done(null,e,{}))},o(),h}function l(t,e,i){function n(){e(),setTimeout(function(){i()},1e3),g[t]||window.removeEventListener("online",n,!1)}var s=g[t];return s&&s>=v.TRYAGAIN?void application.trigger("loadfaile",{url:t,again:s}):(g[t]=s?s:1,g[t]++,void(navigator.onLine===!1?window.addEventListener("online",n,!1):setTimeout(function(){i()},3e3)))}n.prototype.then=function(t,e){var i;return this._isdone?i=t.apply(e,this.result):(i=new n,this._callbacks.push(function(){var n=t.apply(e,arguments);n&&"function"==typeof n.then&&n.then(i.done,i)})),i},n.prototype.done=function(){this.result=arguments,this._isdone=!0;for(var t=0;t<this._callbacks.length;t++)this._callbacks[t].apply(null,arguments);this._callbacks=[]};var u=new Sandbox(!0),d=u.window,f=u.document,p=f.head,m=0,g=[];d.define=function(t,e,i){d[t+"_"+e](i,t)},d.style=function(t,e){d["style_"+t](e,"style")},d.source=function(t,e){d["source_"+t](e,"source")};var v={Promise:n,join:s,chain:r,ajax:a,origin:c,get:h("GET"),post:h("POST"),put:h("PUT"),del:h("DELETE"),ENOXHR:1,ETIMEOUT:2,TRYAGAIN:3,ajaxTimeout:6e4};e.exports=v}),define("frameworks/lib/query",[],function(t,e,i){"use strict";e.exports=function(t){function e(t,e,i){var n=w.createDocumentFragment();if(i){for(var s=t.length-1;s>=0;s--)n.insertBefore(t[s],n.firstChild);e.insertBefore(n,e.firstChild)}else{for(var r=0;r<t.length;r++)n.appendChild(t[r]);e.appendChild(n)}n=null}function i(t){return t in T?T[t]:T[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function n(t){for(var e=0;e<t.length;e++)t.indexOf(t[e])!=e&&(t.splice(e,1),e--);return t}function s(t,e){var i=[];if(void 0==t)return i;for(;t;t=t.nextSibling)1==t.nodeType&&t!==e&&i.push(t);return i}function r(t,e){try{return e.querySelectorAll(t)}catch(i){return[]}}function o(t,e){if(t=t.trim(),"#"===t[0]&&-1==t.indexOf(".")&&-1==t.indexOf(",")&&-1===t.indexOf(" ")&&-1===t.indexOf(">"))e==w?a(e.getElementById(t.replace("#","")),this):a(r(t,e),this);else if("<"===t[0]&&">"===t[t.length-1]||-1!==t.indexOf("<")&&-1!==t.indexOf(">")){var i=w.createElement("div");C?MSApp.execUnsafeLocalFunction(function(){i.innerHTML=t.trim()}):i.innerHTML=t.trim(),a(i.childNodes,this)}else a(r(t,e),this);return this}function a(t,e){if(t){if(t.nodeType)return void(e[e.length++]=t);for(var i=0,n=t.length;n>i;i++)e[e.length++]=t[i]}}function h(){}function c(t){return t._afmid||(t._afmid=M++)}function l(t,e,i,n){if(e=u(e),e.ns)var s=d(e.ns);return(O[c(t)]||[]).filter(function(t){return t&&(!e.e||t.e==e.e)&&(!e.ns||s.test(t.ns))&&(!i||t.fn==i||"function"==typeof t.fn&&"function"==typeof i&&t.fn===i)&&(!n||t.sel==n)})}function u(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function d(t){return new RegExp("(?:^| )"+t.replace(" "," .* ?")+"(?: |$)")}function f(t,e,i){D.isObject(t)?t.each(i):t.split(/\s/).forEach(function(t){i(t,e)})}function p(t,e,i,n,s){var r=c(t),o=O[r]||(O[r]=[]);f(e,i,function(e,i){var r=s&&s(i,e),a=r||i,h=function(e){var i=a.apply(t,[e].concat(e.data));return i===!1&&e.preventDefault(),i},c={}.extend(u(e),{fn:i,proxy:h,sel:n,del:r,i:o.length});o.push(c),t.addEventListener(c.e,h,!1)})}function m(t,e,i,n){var s=c(t);f(e||"",i,function(e,i){l(t,e,i,n).forEach(function(e){delete O[s][e.i],t.removeEventListener(e.e,e.proxy,!1)})})}function g(t){var e={}.extend({originalEvent:t},t);return X.each(function(i,n){e[i]=function(){return this[n]=A,"stopImmediatePropagation"!=i&&"stopPropagation"!=i||(t.cancelBubble=!0,t[i])?t[i].apply(t,arguments):void 0},e[n]=N}),e}function v(t,e,i,n){p(t,e,i,n,function(e){return function(i){var s,r=D(i.target).closest(n,t).get(0);return r?(s={}.extend(g(i),{currentTarget:r,liveFired:t}),e.apply(r,[s].concat([].slice.call(arguments,1)))):void 0}})}function y(t,e){if(e&&t.dispatchEvent){var i=D.Event("destroy",{bubbles:!1});t.dispatchEvent(i)}var n=c(t);if(n&&O[n]){for(var s in O[n])t.removeEventListener(O[n][s].e,O[n][s].proxy,!1);delete O[n]}}function b(t,e){if(t){var i=t.childNodes;if(i&&i.length>0)for(var n;n<i.length;n++)b(i[n],e);y(t,e)}}var w=t.document,x=[],S=x.slice,T={},E=1,P=/<(\w+)[^>]*>/,_={},k={},C="object"==typeof MSApp,I=function(t,e){if(this.length=0,!t)return this;if(t instanceof I&&void 0==e)return t;if(D.isFunction(t))return D(w).ready(t);if(D.isArray(t)&&void 0!=t.length){for(var i=0;i<t.length;i++)this[this.length++]=t[i];return this}if(D.isObject(t)&&D.isObject(e)){if(void 0==t.length)t.parentNode==e&&(this[this.length++]=t);else for(var n=0;n<t.length;n++)t[n].parentNode==e&&(this[this.length++]=t[n]);return this}if(D.isObject(t)&&void 0==e)return this[this.length++]=t,this;if(void 0!==e){if(e instanceof I)return e.find(t)}else e=w;return this.selector(t,e)},D=function(t,e){return new I(t,e)};D.is$=function(t){return t instanceof I},D.map=function(t,e){var i,n,s,r=[];if(D.isArray(t))for(n=0;n<t.length;n++)i=e.apply(t[n],[n,t[n]]),void 0!==i&&r.push(i);else if(D.isObject(t))for(s in t)t.hasOwnProperty(s)&&"length"!=s&&(i=e(t[s],[s,t[s]]),void 0!==i&&r.push(i));return D(r)},D.isArray=function(t){return"Array"==t.getInstanceType()},D.isFunction=function(t){return"function"==typeof t&&!(t instanceof RegExp)},D.isWindow=function(t){return null!=t&&t==t.window},D.isObject=function(t){return"object"==typeof t&&null!==t},D.isPlainObject=function(t){return D.isObject(t)&&!D.isWindow(t)&&Object.getPrototypeOf(t)==Object.prototype},D.isEmptyObject=function(t){var e;for(e in t)return!1;return!0},D.fn=I.prototype={namepsace:"appframework",constructor:I,forEach:x.forEach,reduce:x.reduce,push:x.push,indexOf:x.indexOf,concat:x.concat,selector:o,oldElement:void 0,slice:x.slice,length:0,setupOld:function(t){return void 0==t?D():(t.oldElement=this,t)},map:function(t){var e,i,n=[];for(i=0;i<this.length;i++)e=t.apply(this[i],[i,this[i]]),void 0!==e&&n.push(e);return D(n)},each:function(t){return this.forEach(function(e,i){t.call(e,i,e)}),this},ready:function(t){var e=this[0];return"complete"===e.readyState||"loaded"===e.readyState||!D.os.ie&&"interactive"===e.readyState?t():e.addEventListener("DOMContentLoaded",t,!1),this},find:function(t){if(0===this.length)return this;for(var e,i=[],s=0;s<this.length;s++){e=D(t,this[s]);for(var r=0;r<e.length;r++)i.push(e[r])}return D(n(i))},html:function(t,e){if(0===this.length)return this;if(void 0===t)return this[0].innerHTML;for(var i=0;i<this.length;i++)if(e!==!1&&D.cleanUpContent(this[i],!1,!0),C){var n=this[i];MSApp.execUnsafeLocalFunction(function(){n.innerHTML=t})}else this[i].innerHTML=t;return this},text:function(t){if(0===this.length)return this;if(void 0===t)return this[0].textContent;for(var e=0;e<this.length;e++)this[e].textContent=t;return this},css:function(e,i,n){var s=void 0!=n?n:this[0];if(0===this.length)return this;if(void 0==i&&"string"==typeof e){t.getComputedStyle(s);return s.style[e]?s.style[e]:t.getComputedStyle(s)[e]}for(var r=0;r<this.length;r++)if(D.isObject(e))for(var o in e)this[r].style.set(o,e[o]);else this[r].style.set(e,i);return this},computedStyle:function(e){return 0!==this.length&&void 0!=e?t.getComputedStyle(this[0],"")[e]:void 0},empty:function(){for(var t=0;t<this.length;t++)D.cleanUpContent(this[t],!1,!0),this[t].textContent="";return this},hide:function(){if(0===this.length)return this;for(var t=0;t<this.length;t++)"none"!=this.css("display",null,this[t])&&(this[t].setAttribute("afmOldStyle",this.css("display",null,this[t])),this[t].style.display="none");return this},show:function(){if(0===this.length)return this;for(var t=0;t<this.length;t++)"none"==this.css("display",null,this[t])&&(this[t].style.display=this[t].getAttribute("afmOldStyle")?this[t].getAttribute("afmOldStyle"):"block",this[t].removeAttribute("afmOldStyle"));return this},toggle:function(t){if(0===this.length)return this;for(var e=!(t!==!0),i=0;i<this.length;i++)"none"==this.css("display",null,this[i])||void 0!=t&&e!==!1?"none"!=this.css("display",null,this[i])||void 0!=t&&e!==!0||(this[i].style.display=this[i].getAttribute("afmOldStyle")?this[i].getAttribute("afmOldStyle"):"block",this[i].removeAttribute("afmOldStyle")):(this[i].setAttribute("afmOldStyle",this.css("display",null,this[i])),this[i].style.display="none");return this},val:function(t){if(0===this.length)return void 0===t?void 0:this;if(void 0==t)return this[0].value;for(var e=0;e<this.length;e++)this[e].value=t;return this},attr:function(t,e){if(0===this.length)return void 0===e?void 0:this;if(void 0===e&&!D.isObject(t)){var i=this[0].afmCacheId&&_[this[0].afmCacheId][t]?this[0].afmCacheId&&_[this[0].afmCacheId][t]:this[0].getAttribute(t);return i}for(var n=0;n<this.length;n++)if(D.isObject(t))for(var s in t)D(this[n]).attr(s,t[s]);else D.isArray(e)||D.isObject(e)||D.isFunction(e)?(this[n].afmCacheId||(this[n].afmCacheId=D.uuid()),_[this[n].afmCacheId]||(_[this[n].afmCacheId]={}),_[this[n].afmCacheId][t]=e):null===e?(this[n].removeAttribute(t),this[n].afmCacheId&&_[this[n].afmCacheId][t]&&delete _[this[n].afmCacheId][t]):this[n].setAttribute(t,e);return this},removeAttr:function(t){for(var e=this,i=0;i<this.length;i++)t.split(/\s+/g).forEach(function(n){e[i].removeAttribute(n),e[i].afmCacheId&&_[e[i].afmCacheId][t]&&delete _[e[i].afmCacheId][t]});return this},prop:function(t,e){if(0===this.length)return void 0===e?void 0:this;if(void 0===e&&!D.isObject(t)){var i,n=this[0].afmCacheId&&k[this[0].afmCacheId][t]?this[0].afmCacheId&&k[this[0].afmCacheId][t]:!(i=this[0][t])&&t in this[0]?this[0][t]:i;return n}for(var s=0;s<this.length;s++)if(D.isObject(t))for(var r in t)D(this[s]).prop(r,t[r]);else D.isArray(e)||D.isObject(e)||D.isFunction(e)?(this[s].afmCacheId||(this[s].afmCacheId=D.uuid()),
k[this[s].afmCacheId]||(k[this[s].afmCacheId]={}),k[this[s].afmCacheId][t]=e):null===e&&void 0!==e?D(this[s]).removeProp(t):this[s][t]=e;return this},removeProp:function(t){for(var e=this,i=0;i<this.length;i++)t.split(/\s+/g).forEach(function(n){e[i][n]&&(e[i][n]=void 0),e[i].afmCacheId&&k[e[i].afmCacheId][t]&&delete k[e[i].afmCacheId][t]});return this},remove:function(t){var e=D(this).filter(t);if(void 0==e)return this;for(var i=0;i<e.length;i++)D.cleanUpContent(e[i],!0,!0),e[i]&&e[i].parentNode&&e[i].parentNode.removeChild(e[i]);return this},addClass:function(t){if(void 0==t)return this;for(var e=0;e<this.length;e++){var i=this[e].className,n=[],s=this;t.split(/\s+/g).forEach(function(t){s.hasClass(t,s[e])||n.push(t)}),this[e].className+=(i?" ":"")+n.join(" "),this[e].className=this[e].className.trim()}return this},removeClass:function(t){if(void 0==t)return this;for(var e=0;e<this.length;e++){if(void 0==t)return this[e].className="",this;var n=this[e].className;"object"==typeof this[e].className&&(n=" "),t.split(/\s+/g).forEach(function(t){n=n.replace(i(t)," ")}),n.length>0?this[e].className=n.trim():this[e].className=""}return this},toggleClass:function(t,e){if(void 0==t)return this;for(var i=0;i<this.length;i++)"boolean"!=typeof e&&(e=this.hasClass(t,this[i])),D(this[i])[e?"removeClass":"addClass"](t);return this},replaceClass:function(t,e){if(void 0==t||void 0==e)return this;for(var n=0;n<this.length;n++)if(void 0!=t){var s=this[n].className;t.split(/\s+/g).concat(e.split(/\s+/g)).forEach(function(t){s=s.replace(i(t)," ")}),s=s.trim(),s.length>0?this[n].className=(s+" "+e).trim():this[n].className=e}else this[n].className=e;return this},hasClass:function(t,e){return 0===this.length?!1:(e||(e=this[0]),i(t).test(e.className))},append:function(i,n){if(i&&void 0!=i.length&&0===i.length)return this;(D.isArray(i)||D.isObject(i))&&(i=D(i));var s;for(s=0;s<this.length;s++)if(i.length&&"string"!=typeof i)i=D(i),e(i,this[s],n);else{var r=P.test(i)?D(i):void 0;void 0!=r&&0!==r.length||(r=w.createTextNode(i)),void 0==r.nodeName||"script"!=r.nodeName.toLowerCase()||r.type&&"text/javascript"!==r.type.toLowerCase()?r instanceof I?e(r,this[s],n):void 0!=n?this[s].insertBefore(r,this[s].firstChild):this[s].appendChild(r):t.eval(r.innerHTML)}return this},appendTo:function(t,e){var i=D(t);return i.append(this),this},prependTo:function(t){var e=D(t);return e.append(this,!0),this},prepend:function(t){return this.append(t,1)},before:function(t,e){if(0===this.length)return this;if(t=D(t).get(0),!t)return this;for(var i=0;i<this.length;i++)e?t.parentNode.insertBefore(this[i],t.nextSibling):t.parentNode.insertBefore(this[i],t);return this},after:function(t){this.before(t,!0)},get:function(t){return t=void 0==t?0:t,0>t&&(t+=this.length),this[t]?this[t]:void 0},offset:function(){var e;return 0===this.length?this:this[0]==t?{left:0,top:0,right:0,bottom:0,width:t.innerWidth,height:t.innerHeight}:(e=this[0].getBoundingClientRect(),{left:e.left+t.pageXOffset,top:e.top+t.pageYOffset,right:e.right+t.pageXOffset,bottom:e.bottom+t.pageYOffset,width:e.right-e.left,height:e.bottom-e.top})},height:function(e){if(0===this.length)return this;if(void 0!=e)return this.css("height",e);if(this[0]==this[0].window)return t.innerHeight;if(this[0].nodeType==this[0].DOCUMENT_NODE)return this[0].documentElement.offsetheight;var i=this.css("height").replace("px","");return i?i:this.offset().height},width:function(e){if(0===this.length)return this;if(void 0!=e)return this.css("width",e);if(this[0]==this[0].window)return t.innerWidth;if(this[0].nodeType==this[0].DOCUMENT_NODE)return this[0].documentElement.offsetwidth;var i=this.css("width").replace("px","");return i?i:this.offset().width},parent:function(t,e){if(0===this.length)return this;for(var i=[],s=0;s<this.length;s++)for(var r=this[s];r.parentNode&&r.parentNode!=w&&(i.push(r.parentNode),r.parentNode&&(r=r.parentNode),e););return this.setupOld(D(n(i)).filter(t))},parents:function(t){return this.parent(t,!0)},childrens:function(t){if(0===this.length)return this;for(var e=[],i=0;i<this.length;i++)e=e.concat(s(this[i].firstChild));return this.setupOld(D(e).filter(t))},siblings:function(t){if(0===this.length)return this;for(var e=[],i=0;i<this.length;i++)this[i].parentNode&&(e=e.concat(s(this[i].parentNode.firstChild,this[i])));return this.setupOld(D(e).filter(t))},closest:function(t,e){if(0===this.length)return this;var i=this[0],n=D(t,e);if(0===n.length)return D();for(;i&&-1==n.indexOf(i);)i=i!==e&&i!==w&&i.parentNode;return D(i)},filter:function(t){if(0===this.length)return this;if(void 0==t)return this;for(var e=[],i=0;i<this.length;i++){var s=this[i];s.parentNode&&D(t,s.parentNode).indexOf(s)>=0&&e.push(s)}return this.setupOld(D(n(e)))},not:function(t){if(0===this.length)return this;for(var e=[],i=0;i<this.length;i++){var s=this[i];s.parentNode&&-1==D(t,s.parentNode).indexOf(s)&&e.push(s)}return this.setupOld(D(n(e)))},data:function(t,e){return this.attr("data-"+t,e)},end:function(){return void 0!=this.oldElement?this.oldElement:D()},clone:function(t){if(t=t!==!1,0===this.length)return this;for(var e=[],i=0;i<this.length;i++)e.push(this[i].cloneNode(t));return D(e)},size:function(){return this.length},serialize:function(){if(0===this.length)return"";for(var t=[],e=0;e<this.length;e++)this.slice.call(this[e].elements).forEach(function(e){var i=e.getAttribute("type");if("fieldset"!=e.nodeName.toLowerCase()&&!e.disabled&&"submit"!=i&&"reset"!=i&&"button"!=i&&("radio"!=i&&"checkbox"!=i||e.checked)&&e.getAttribute("name"))if("select-multiple"==e.type)for(var n=0;n<e.options.length;n++)e.options[n].selected&&t.push(e.getAttribute("name")+"="+encodeURIComponent(e.options[n].value));else t.push(e.getAttribute("name")+"="+encodeURIComponent(e.value))});return t.join("&")},eq:function(t){return D(this.get(t))},index:function(t){return t?this.indexOf(D(t)[0]):this.parent().children().indexOf(this[0])},is:function(t){return!!t&&this.filter(t).length>0},toArray:function(){for(var t=[],e=0,i=this.length;i>e;e++)t.push(this[e]);return t}},D.ajaxSettings={type:"GET",beforeSend:h,success:h,error:h,complete:h,context:void 0,timeout:0,crossDomain:null},D.jsonP=function(e){if(C)return e.type="get",e.dataType=null,D.get(e);var i,n="jsonp_callback"+ ++E,s="",r=w.createElement("script");return t[n]=function(o){clearTimeout(s),D(r).remove(),delete t[n],e.success.call(i,o)},r.src=e.url.replace(/=\?/,"="+n),e.error&&(r.onerror=function(){clearTimeout(s),e.error.call(i,"","error")}),D("head").append(r),e.timeout>0&&(s=setTimeout(function(){e.error.call(i,"","timeout")},e.timeout)),{}},D.ajax=function(e){var i;try{var n=e||{};for(var s in D.ajaxSettings)"undefined"==typeof n[s]&&(n[s]=D.ajaxSettings[s]);if(n.url||(n.url=t.location),n.contentType||(n.contentType="application/x-www-form-urlencoded"),n.headers||(n.headers={}),"async"in n&&n.async===!1||(n.async=!0),n.dataType)switch(n.dataType){case"script":n.dataType="text/javascript, application/javascript";break;case"json":n.dataType="application/json";break;case"xml":n.dataType="application/xml, text/xml";break;case"html":n.dataType="text/html";break;case"text":n.dataType="text/plain";break;default:n.dataType="text/html";break;case"jsonp":return D.jsonP(e)}else n.dataType="text/html";if(D.isObject(n.data)&&(n.data=D.param(n.data)),"get"===n.type.toLowerCase()&&n.data&&(-1===n.url.indexOf("?")?n.url+="?"+n.data:n.url+="&"+n.data),/=\?/.test(n.url))return D.jsonP(n);null===n.crossDomain&&(n.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(n.url)&&RegExp.$2!=t.location.host),n.crossDomain||(n.headers={}.extend({"X-Requested-With":"XMLHttpRequest"},n.headers));var r,o=n.context,a=/^([\w-]+:)\/\//.test(n.url)?RegExp.$1:t.location.protocol;i=new t.XMLHttpRequest,i.onreadystatechange=function(){var t=n.dataType;if(4===i.readyState){clearTimeout(r);var e,s=!1;if(i.status>=200&&i.status<300||0===i.status&&"file:"==a){if("application/json"!==t||/^\s*$/.test(i.responseText))"application/xml, text/xml"===t?e=i.responseXML:"text/html"==t?(e=i.responseText,D.parseJS(e)):e=i.responseText;else try{e=JSON.parse(i.responseText)}catch(h){s=h}0===i.status&&0===e.length&&(s=!0),s?n.error.call(o,i,"parsererror",s):n.success.call(o,e,"success",i)}else s=!0,n.error.call(o,i,"error");n.complete.call(o,i,s?"error":"success")}},i.open(n.type,n.url,n.async),n.withCredentials&&(i.withCredentials=!0),n.contentType&&(n.headers["Content-Type"]=n.contentType);for(var c in n.headers)"string"==typeof n.headers[c]&&i.setRequestHeader(c,n.headers[c]);if(n.beforeSend.call(o,i,n)===!1)return i.abort(),!1;n.timeout>0&&(r=setTimeout(function(){i.onreadystatechange=h,i.abort(),n.error.call(o,i,"timeout")},n.timeout)),i.send(n.data)}catch(l){console.log(l),n.error.call(o,i,"error",l)}return i},D.get=function(t,e){return this.ajax({url:t,success:e})},D.post=function(t,e,i,n){return"function"==typeof e&&(i=e,e={}),void 0===n&&(n="html"),this.ajax({url:t,type:"POST",data:e,dataType:n,success:i})},D.getJSON=function(t,e,i){return"function"==typeof e&&(i=e,e={}),this.ajax({url:t,data:e,success:i,dataType:"json"})},D.param=function(t,e){var i=[];if(t instanceof I)t.each(function(){var t=e?e+"["+this.id+"]":this.id,n=this.value;i.push(t+"="+encodeURIComponent(n))});else for(var n in t)if(!D.isFunction(t[n])){var s=e?e+"["+n+"]":n,r=t[n];i.push(D.isObject(r)?D.param(r,s):s+"="+encodeURIComponent(r))}return i.join("&")},D.parseJSON=function(t){return JSON.parse(t)},D.parseXML=function(t){return C?void MSApp.execUnsafeLocalFunction(function(){return(new DOMParser).parseFromString(t,"text/xml")}):(new DOMParser).parseFromString(t,"text/xml")},D.os=device.os,D.feat=device.feat,D.uuid=function(){var t=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},D.getCssMatrix=function(e){D.is$(e)&&(e=e.get(0));var i=t.WebKitCSSMatrix||t.MSCSSMatrix;if(void 0===e)return i?new i:{a:0,b:0,c:0,d:0,e:0,f:0};var n=t.getComputedStyle(e),s=n.webkitTransform||n.transform||n[D.feat.cssPrefix+"Transform"];if(i)return new i(s);if(s){var r=s.replace(/[^0-9\-.,]/g,"").split(",");return{a:+r[0],b:+r[1],c:+r[2],d:+r[3],e:+r[4],f:+r[5]}}return{a:0,b:0,c:0,d:0,e:0,f:0}},D.create=function(t,e){var i,n=new I;if(e||"<"!==t[0]){e.html&&(e.innerHTML=e.html,delete e.html),i=w.createElement(t);for(var s in e)i[s]=e[s];n[n.length++]=i}else i=w.createElement("div"),C?MSApp.execUnsafeLocalFunction(function(){i.innerHTML=selector.trim()}):i.innerHTML=t,a(i.childNodes,n);return n},D.query=function(t,e){if(!t)return new I;e=e||w;var i=new I;return i.selector(t,e)};var O={},M=1;D.event={add:p,remove:m},D.fn.bind=function(t,e){for(var i=0;i<this.length;i++)p(this[i],t,e);return this},D.fn.unbind=function(t,e){for(var i=0;i<this.length;i++)m(this[i],t,e);return this},D.fn.one=function(t,e){return this.each(function(i,n){p(this,t,e,null,function(t,e){return function(){if(m(n,e,t),t){var i=t.apply(n,arguments);return i}}})})};var A=function(){return!0},N=function(){return!1},X={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};D.fn.delegate=function(t,e,i){for(var n=0;n<this.length;n++)v(this[n],e,i,t);return this},D.fn.undelegate=function(t,e,i){for(var n=0;n<this.length;n++)m(this[n],e,i,t);return this},D.fn.on=function(t,e,i){return void 0===e||D.isFunction(e)?this.bind(t,e):this.delegate(e,t,i)},D.fn.off=function(t,e,i){return void 0===e||D.isFunction(e)?this.unbind(t,e):this.undelegate(e,t,i)},D.fn.trigger=function(t,e,i){"string"==typeof t&&(t=D.Event(t,i)),t.data=e;for(var n=0;n<this.length;n++)this[n].dispatchEvent(t);return this},D.Event=function(t,e){var i=w.createEvent("Events"),n=!0;if(e)for(var s in e)"bubbles"==s?n=!!e[s]:i[s]=e[s];return i.initEvent(t,n,!0,null,null,null,null,null,null,null,null,null,null,null,null),i},D.bind=function(t,e,i){if(t){t.__events||(t.__events={}),D.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++)t.__events[e[n]]||(t.__events[e[n]]=[]),t.__events[e[n]].push(i)}},D.trigger=function(t,e,i){if(t){var n=!0;if(!t.__events)return n;D.isArray(e)||(e=[e]),D.isArray(i)||(i=[]);for(var s=0;s<e.length;s++)if(t.__events[e[s]])for(var r=t.__events[e[s]].slice(0),o=0;o<r.length;o++)D.isFunction(r[o])&&r[o].apply(t,i)===!1&&(n=!1);return n}},D.unbind=function(t,e,i){if(t.__events){D.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++)if(t.__events[e[n]])for(var s=t.__events[e[n]],r=0;r<s.length;r++)if(void 0==i&&delete s[r],s[r]==i){s.splice(r,1);break}}},D.proxy=function(t,e,i){return function(){return i?t.apply(e,i):t.apply(e,arguments)}};var Y=function(t,e){for(var i=0;i<t.length;i++)b(t[i],e)};D.cleanUpContent=function(t,e,i){if(t){var n=t.childNodes;n&&n.length>0&&D.asap(Y,{},[S.apply(n,[0]),i]),e&&y(t,i)}};var L=[],R=[],z=[];D.asap=function(e,i,n){if(!D.isFunction(e))throw"$.asap - argument is not a valid function";L.push(e),R.push(i?i:{}),z.push(n?n:[]),t.postMessage("afm-asap","*")},t.addEventListener("message",function(e){e.source==t&&"afm-asap"==e.data&&(e.stopPropagation(),L.length>0&&L.shift().apply(R.shift(),z.shift()))},!0);var B={};return D.parseJS=function(e){if(e){if("string"==typeof e){var i=w.createElement("div");C?MSApp.execUnsafeLocalFunction(function(){i.innerHTML=e}):i.innerHTML=e,e=i}var n=e.getElementsByTagName("script");e=null;for(var s=0;s<n.length;s++)if(n[s].src.length>0&&!B[n[s].src]&&!C){var r=w.createElement("script");r.type=n[s].type,r.src=n[s].src,w.getElementsByTagName("head")[0].appendChild(r),B[n[s].src]=1,r=null}else t.eval(n[s].innerHTML)}},["click","keydown","keyup","keypress","submit","load","resize","change","select","error"].forEach(function(t){D.fn[t]=function(e){return e?this.bind(t,e):this.trigger(t)}}),["focus","blur"].forEach(function(t){D.fn[t]=function(e){if(0!==this.length){if(e)this.bind(t,e);else for(var i=0;i<this.length;i++)try{this[i][t]()}catch(n){}return this}}}),D}}),define("frameworks/lib/move",[],function(t,e,i){"use strict";function n(t){if(!(this instanceof n))return new n(t);if("string"==typeof t&&(t=$(t)[0]),!t)throw new TypeError("Move must be initialized with element or selector");this.el=t,this._props={},this._rotate=0,this._transitionProps=[],this._transforms={},this.duration(0)}var s=({prefixStyle:device.feat.prefixStyle},{"in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0, 1, .5, 1)",linear:"cubic-bezier(0.250, 0.250, 0.750, 0.750)","ease-in-quad":"cubic-bezier(0.550, 0.085, 0.680, 0.530)","ease-in-cubic":"cubic-bezier(0.550, 0.055, 0.675, 0.190)","ease-in-quart":"cubic-bezier(0.895, 0.030, 0.685, 0.220)","ease-in-quint":"cubic-bezier(0.755, 0.050, 0.855, 0.060)","ease-in-sine":"cubic-bezier(0.470, 0.000, 0.745, 0.715)","ease-in-expo":"cubic-bezier(0.950, 0.050, 0.795, 0.035)","ease-in-circ":"cubic-bezier(0.600, 0.040, 0.980, 0.335)","ease-in-back":"cubic-bezier(0.600, -0.280, 0.735, 0.045)","ease-out-quad":"cubic-bezier(0.250, 0.460, 0.450, 0.940)","ease-out-cubic":"cubic-bezier(0.215, 0.610, 0.355, 1.000)","ease-out-quart":"cubic-bezier(0.165, 0.840, 0.440, 1.000)","ease-out-quint":"cubic-bezier(0.230, 1.000, 0.320, 1.000)","ease-out-sine":"cubic-bezier(0.390, 0.575, 0.565, 1.000)","ease-out-expo":"cubic-bezier(0.190, 1.000, 0.220, 1.000)","ease-out-circ":"cubic-bezier(0.075, 0.820, 0.165, 1.000)","ease-out-back":"cubic-bezier(0.175, 0.885, 0.320, 1.275)","ease-in-out-quad":"cubic-bezier(0.455, 0.030, 0.515, 0.955)","ease-in-out-cubic":"cubic-bezier(0.645, 0.045, 0.355, 1.000)","ease-in-out-quart":"cubic-bezier(0.770, 0.000, 0.175, 1.000)","ease-in-out-quint":"cubic-bezier(0.860, 0.000, 0.070, 1.000)","ease-in-out-sine":"cubic-bezier(0.445, 0.050, 0.550, 0.950)","ease-in-out-expo":"cubic-bezier(1.000, 0.000, 0.000, 1.000)","ease-in-out-circ":"cubic-bezier(0.785, 0.135, 0.150, 0.860)","ease-in-out-back":"cubic-bezier(0.680, -0.550, 0.265, 1.550)"}),r=function(){function t(t,n){return e?(t.bind(i,n),n):n()}var e=device.feat.prefixStyle("transition"),i="transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd animationend webkitAnimationEnd oAnimationEnd MSAnimationEnd";return t.once=function(e,n){var s=function(){e.unbind(i,s),n()};t(e,s)},t}(),o=window.getComputedStyle||window.currentStyle;n.ease=s,n.select=function(t){return"string"!=typeof t?t:$(t)[0]};var a=n.prototype;a.transform=function(t){var e=t.match(/\w+\b/);return this._transforms[e]=t,this},a._applyTransform=function(){var t=[];for(var e in this._transforms)t.push(this._transforms[e]);return t.length&&this.setProperty("transform",t.join(" ")),this},a.skew=function(t,e){return this.transform("skew("+t+"deg, "+(e||0)+"deg)")},a.skewX=function(t){return this.transform("skewX("+t+"deg)")},a.skewY=function(t){return this.transform("skewY("+t+"deg)")},a.translate=a.translate3d=a.to=function(t,e,i){return void 0!=t&&this.x(t),void 0!=e&&this.y(e),void 0!=i&&this.z(i),this},a.translateX=a.x=function(t){return this.transform("translateX("+t+"px)")},a.translateY=a.y=function(t){return this.transform("translateY("+t+"px)")},a.translateZ=a.z=function(t){return this.transform("translateZ("+t+"px)")},a.scale=function(t,e){return this.transform("scale("+t+", "+(e||t)+")")},a.scaleX=function(t){return this.transform("scaleX("+t+")")},a.matrix=function(t,e,i,n,s,r){return this.transform("matrix("+[t,e,i,n,s,r].join(",")+")")},a.scaleY=function(t){return this.transform("scaleY("+t+")")},a.rotate=function(t){return this.transform("rotate("+t+"deg)")},a.rotateX=function(t){return this.transform("rotateX("+t+"deg)")},a.rotateY=function(t){return this.transform("rotateY("+t+"deg)")},a.rotateZ=function(t){return this.transform("rotateZ("+t+"deg)")},a.rotate3d=function(t,e,i,n){return this.transform("rotate3d("+t+"px, "+e+"px,"+i+"px,"+n+"deg)")},a.perspective=function(t){return this.el.parentNode.style.set("transform-style","preserve-3d"),this.el.parentNode.style.set("perspective",t+"px"),this},a.ease=function(t){return t=s[t]||t||"ease",this.setProperty("transition-timing-function",t)},a.animate=function(t,e){for(var i in e)e.hasOwnProperty(i)&&this.setProperty("animation-"+i,e[i]);return this.setProperty("animation-name",t)},a.duration=function(t){return t=this._duration="string"==typeof t?1e3*parseFloat(t):t,this.setProperty("transition-duration",t+"ms")},a.delay=function(t){return t=this._delay="string"==typeof t?1e3*parseFloat(t):t,this.setProperty("transition-delay",t+"ms")},a.setProperty=function(t,e){return this._props[t]=e,this},a.set=function(t,e){return this.transition(t),this._props[t]=e,this},a.css=function(t,e,i){return this.el.css(t,e,i),this},a.add=function(t,e){if(o){var i=this;return this.on("start",function(){var n=parseInt(i.current(t),10);i.set(t,n+e+"px")})}},a.sub=function(t,e){if(o){var i=this;return this.on("start",function(){var n=parseInt(i.current(t),10);i.set(t,n-e+"px")})}},a.current=function(t){return o(this.el).getPropertyValue(t)},a.transition=function(t){return this._transitionProps.indexOf(t)?(this._transitionProps.push(t),this):this},a.applyProperties=function(){for(var t in this._props)this.el.style.set(t,this._props[t]);return this},a.move=a.select=function(t){return this.el=n.select(t),this},a.then=function(t){if(t instanceof n)this.on("end",function(){t.end()});else{if("function"!=typeof t){var e=new n(this.el);return e._transforms=this._transforms.slice(0),this.then(e),e.parent=this,e}this.on("end",t)}return this},a.pop=function(){return this.parent},a.clear=function(){return this.el.style.set("transition-delay",""),this.el.style.set("transition-duration",""),this},a.end=function(t){var e=this;return this.setProperty("transition-properties",this._transitionProps.join(", ")),this._applyTransform(),this.applyProperties(),0==this._duration?setTimeout(function(){window.requestAnimationFrame(function(){e.clear(),t&&t.call(e)})},60):r.once(this.el,function(){e.clear(),t&&t.call(e)}),this},e.exports=n}),define("frameworks/lib/touch",[],function(t,e,i){e.exports=function(t,e,i){"use strict";function n(t,e,i){return setTimeout(c(t,i),e)}function s(t,e,i){return Array.isArray(t)?(r(t,i[e],i),!0):!1}function r(t,e,n){var s;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==i)for(s=0;s<t.length;)e.call(n,t[s],s,t),s++;else for(s in t)t.hasOwnProperty(s)&&e.call(n,t[s],s,t)}function o(t,e,n){for(var s=Object.keys(e),r=0;r<s.length;)(!n||n&&t[s[r]]===i)&&(t[s[r]]=e[s[r]]),r++;return t}function a(t,e){return o(t,e,!0)}function h(t,e,i){var n,s=e.prototype;n=t.prototype=Object.create(s),n.constructor=t,n._super=s,i&&o(n,i)}function c(t,e){return function(){return t.apply(e,arguments)}}function l(t,e){return typeof t==ht?t.apply(e?e[0]||i:i,e):t}function u(t,e){return t===i?e:t}function d(t,e,i){r(g(e),function(e){t.addEventListener(e,i,!1)})}function f(t,e,i){r(g(e),function(e){t.removeEventListener(e,i,!1)})}function p(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function m(t,e){return t.indexOf(e)>-1}function g(t){return t.trim().split(/\s+/g)}function v(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}function y(t){return Array.prototype.slice.call(t,0)}function b(t,e,i){for(var n=[],s=[],r=0;r<t.length;){var o=e?t[r][e]:t[r];v(s,o)<0&&n.push(t[r]),s[r]=o,r++}return i&&(n=e?n.sort(function(t,i){return t[e]>i[e]}):n.sort()),n}function w(t,e){for(var n,s,r=e[0].toUpperCase()+e.slice(1),o=0;o<ot.length;){if(n=ot[o],s=n?n+r:e,s in t)return s;o++}return i}function x(){return dt++}function S(t){var e=t.ownerDocument;return e.defaultView||e.parentWindow}function T(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){l(t.options.enable,[t])&&i.handler(e)},this.init()}function E(t){var e,i=t.options.inputClass;return new(e=i?i:mt?R:gt?z:pt?H:L)(t,P)}function P(t,e,i){var n=i.pointers.length,s=i.changedPointers.length,r=e&St&&n-s===0,o=e&(Et|Pt)&&n-s===0;i.isFirst=!!r,i.isFinal=!!o,r&&(t.session={}),i.eventType=e,_(t,i),t.emit("Touch.input",i),t.recognize(i),t.session.prevInput=i}function _(t,e){var i=t.session,n=e.pointers,s=n.length;i.firstInput||(i.firstInput=I(e)),s>1&&!i.firstMultiple?i.firstMultiple=I(e):1===s&&(i.firstMultiple=!1);var r=i.firstInput,o=i.firstMultiple,a=o?o.center:r.center,h=e.center=D(n);e.timeStamp=ut(),e.deltaTime=e.timeStamp-r.timeStamp,e.angle=N(a,h),e.distance=A(a,h),k(i,e),e.offsetDirection=M(e.deltaX,e.deltaY),e.scale=o?Y(o.pointers,n):1,e.rotation=o?X(o.pointers,n):0,C(i,e);var c=t.element;p(e.srcEvent.target,c)&&(c=e.srcEvent.target),e.target=c}function k(t,e){var i=e.center,n=t.offsetDelta||{},s=t.prevDelta||{},r=t.prevInput||{};e.eventType!==St&&r.eventType!==Et||(s=t.prevDelta={x:r.deltaX||0,y:r.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=s.x+(i.x-n.x),e.deltaY=s.y+(i.y-n.y)}function C(t,e){var n,s,r,o,a=t.lastInterval||e,h=e.timeStamp-a.timeStamp;if(e.eventType!=Pt&&(h>xt||a.velocity===i)){var c=a.deltaX-e.deltaX,l=a.deltaY-e.deltaY,u=O(h,c,l);s=u.x,r=u.y,n=lt(u.x)>lt(u.y)?u.x:u.y,o=M(c,l),t.lastInterval=e}else n=a.velocity,s=a.velocityX,r=a.velocityY,o=a.direction;e.velocity=n,e.velocityX=s,e.velocityY=r,e.direction=o}function I(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:ct(t.pointers[i].clientX),clientY:ct(t.pointers[i].clientY)},i++;return{timeStamp:ut(),pointers:e,center:D(e),deltaX:t.deltaX,deltaY:t.deltaY}}function D(t){var e=t.length;if(1===e)return{x:ct(t[0].clientX),y:ct(t[0].clientY)};for(var i=0,n=0,s=0;e>s;)i+=t[s].clientX,n+=t[s].clientY,s++;return{x:ct(i/e),y:ct(n/e)}}function O(t,e,i){return{x:e/t||0,y:i/t||0}}function M(t,e){return t===e?_t:lt(t)>=lt(e)?t>0?kt:Ct:e>0?It:Dt}function A(t,e,i){i||(i=Nt);var n=e[i[0]]-t[i[0]],s=e[i[1]]-t[i[1]];return Math.sqrt(n*n+s*s)}function N(t,e,i){i||(i=Nt);var n=e[i[0]]-t[i[0]],s=e[i[1]]-t[i[1]];return 180*Math.atan2(s,n)/Math.PI}function X(t,e){return N(e[1],e[0],Xt)-N(t[1],t[0],Xt)}function Y(t,e){return A(e[0],e[1],Xt)/A(t[0],t[1],Xt)}function L(){this.evEl=Lt,this.evWin=Rt,this.allow=!0,this.pressed=!1,T.apply(this,arguments)}function R(){this.evEl=Ht,this.evWin=jt,T.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function z(){this.evTarget=Ft,this.targetIds={},T.apply(this,arguments)}function B(t,e){var i=y(t.touches),n=this.targetIds;if(e&(St|Tt)&&1===i.length)return n[i[0].identifier]=!0,[i,i];var s,r=y(t.targetTouches),o=y(t.changedTouches),a=[];if(e===St)for(s=0;s<r.length;)n[r[s].identifier]=!0,s++;for(s=0;s<o.length;)n[o[s].identifier]&&a.push(o[s]),e&(Et|Pt)&&delete n[o[s].identifier],s++;return a.length?[b(r.concat(a),"identifier",!0),a]:void 0}function H(){T.apply(this,arguments);var t=c(this.handler,this);this.touch=new z(this.manager,t),this.mouse=new L(this.manager,t)}function j(t,e){this.manager=t,this.set(e)}function W(t){if(m(t,Zt))return Zt;var e=m(t,Kt),i=m(t,Jt);return e&&i?Kt+" "+Jt:e||i?e?Kt:Jt:m(t,$t)?$t:Gt}function F(t){this.id=x(),this.manager=null,this.options=a(t||{},this.defaults),this.options.enable=u(this.options.enable,!0),this.state=Qt,this.simultaneous={},this.requireFail=[]}function q(t){return t&se?"cancel":t&ie?"end":t&ee?"move":t&te?"start":""}function V(t){return t==Dt?"down":t==It?"up":t==kt?"left":t==Ct?"right":""}function U(t,e){var i=e.manager;return i?i.get(t):t}function G(){F.apply(this,arguments)}function $(){G.apply(this,arguments),this.pX=null,this.pY=null}function Z(){G.apply(this,arguments)}function K(){F.apply(this,arguments),this._timer=null,this._input=null}function J(){G.apply(this,arguments)}function Q(){G.apply(this,arguments)}function tt(){F.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function et(t,e){return e=e||{},e.recognizers=u(e.recognizers,et.defaults.preset),new it(t,e)}function it(t,e){e=e||{},this.options=a(e,et.defaults),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.element=t,this.input=E(this),this.touchAction=new j(this,this.options.touchAction),nt(this,!0),r(e.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function nt(t,e){var i=t.element;r(t.options.cssProps,function(t,n){i.style[w(i.style,n)]=e?t:""})}function st(t,i){var n=e.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=i,i.target.dispatchEvent(n)}var rt=device.ui.scale||1,ot=["","webkit","moz","MS","ms","o"],at=e.createElement("div"),ht="function",ct=Math.round,lt=Math.abs,ut=Date.now,dt=1,ft=/mobile|tablet|ip(ad|hone|od)|android/i,pt="ontouchstart"in t,mt=w(t,"PointerEvent")!==i,gt=pt&&ft.test(navigator.userAgent),vt="touch",yt="pen",bt="mouse",wt="kinect",xt=25,St=1,Tt=2,Et=4,Pt=8,_t=1,kt=2,Ct=4,It=8,Dt=16,Ot=kt|Ct,Mt=It|Dt,At=Ot|Mt,Nt=["x","y"],Xt=["clientX","clientY"];T.prototype={handler:function(){},init:function(){this.evEl&&d(this.element,this.evEl,this.domHandler),this.evTarget&&d(this.target,this.evTarget,this.domHandler),this.evWin&&d(S(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&f(this.element,this.evEl,this.domHandler),this.evTarget&&f(this.target,this.evTarget,this.domHandler),this.evWin&&f(S(this.element),this.evWin,this.domHandler)}};var Yt={mousedown:St,mousemove:Tt,mouseup:Et},Lt="mousedown",Rt="mousemove mouseup";h(L,T,{handler:function(t){var e=Yt[t.type];e&St&&0===t.button&&(this.pressed=!0),e&Tt&&1!==t.which&&(e=Et),this.pressed&&this.allow&&(e&Et&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:bt,srcEvent:t}))}});var zt={pointerdown:St,pointermove:Tt,pointerup:Et,pointercancel:Pt,pointerout:Pt},Bt={2:vt,3:yt,4:bt,5:wt},Ht="pointerdown",jt="pointermove pointerup pointercancel";t.MSPointerEvent&&(Ht="MSPointerDown",jt="MSPointerMove MSPointerUp MSPointerCancel"),h(R,T,{handler:function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),s=zt[n],r=Bt[t.pointerType]||t.pointerType,o=r==vt;s&St&&(0===t.button||o)?e.push(t):s&(Et|Pt)&&(i=!0);var a=v(e,t.pointerId,"pointerId");0>a||(e[a]=t,this.callback(this.manager,s,{pointers:e,changedPointers:[t],pointerType:r,srcEvent:t}),i&&e.splice(a,1))}});var Wt={touchstart:St,touchmove:Tt,touchend:Et,touchcancel:Pt},Ft="touchstart touchmove touchend touchcancel";h(z,T,{handler:function(t){var e=Wt[t.type],i=B.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:vt,srcEvent:t})}}),h(H,T,{handler:function(t,e,i){var n=i.pointerType==vt,s=i.pointerType==bt;if(n)this.mouse.allow=!1;else if(s&&!this.mouse.allow)return;e&(Et|Pt)&&(this.mouse.allow=!0),this.callback(t,e,i)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var qt=w(at.style,"touchAction"),Vt=qt!==i,Ut="compute",Gt="auto",$t="manipulation",Zt="none",Kt="pan-x",Jt="pan-y";j.prototype={set:function(t){t==Ut&&(t=this.compute()),Vt&&(this.manager.element.style[qt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return r(this.manager.recognizers,function(e){l(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),W(t.join(" "))},preventDefaults:function(t){if(!Vt){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var n=this.actions,s=m(n,Zt),r=m(n,Jt),o=m(n,Kt);return s||r&&i&Ot||o&&i&Mt?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Qt=1,te=2,ee=4,ie=8,ne=ie,se=16,re=32;F.prototype={defaults:{},set:function(t){return o(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(s(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=U(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return s(t,"dropRecognizeWith",this)?this:(t=U(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(s(t,"requireFailure",this))return this;var e=this.requireFail;return t=U(t,this),-1===v(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(s(t,"dropRequireFailure",this))return this;t=U(t,this);var e=v(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){i.manager.emit(i.options.event+(e?q(n):""),t)}var i=this,n=this.state;ie>n&&e(!0),e(),n>=ie&&e(!0)},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=re)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(re|Qt)))return!1;t++}return!0},recognize:function(t){var e=o({},t);return l(this.options.enable,[this,e])?(this.state&(ne|se|re)&&(this.state=Qt),this.state=this.process(e),void(this.state&(te|ee|ie|se)&&this.tryEmit(e))):(this.reset(),void(this.state=re))},process:function(t){},getTouchAction:function(){},reset:function(){}},h(G,F,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,n=e&(te|ee),s=this.attrTest(t);return n&&(i&Pt||!s)?e|se:n||s?i&Et?e|ie:e&te?e|ee:te:re}}),h($,G,{defaults:{event:"pan",threshold:10*rt,pointers:1,direction:At},getTouchAction:function(){var t=this.options.direction,e=[];return t&Ot&&e.push(Jt),t&Mt&&e.push(Kt),e},directionTest:function(t){var e=this.options,i=!0,n=t.distance,s=t.direction,r=t.deltaX,o=t.deltaY;return s&e.direction||(e.direction&Ot?(s=0===r?_t:0>r?kt:Ct,i=r!=this.pX,n=Math.abs(t.deltaX)):(s=0===o?_t:0>o?It:Dt,i=o!=this.pY,n=Math.abs(t.deltaY))),t.direction=s,i&&n>e.threshold&&s&e.direction},attrTest:function(t){return G.prototype.attrTest.call(this,t)&&(this.state&te||!(this.state&te)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=V(t.direction);e&&this.manager.emit(this.options.event+e,t),this._super.emit.call(this,t)}}),h(Z,G,{defaults:{event:"pinch",threshold:0,pointers:2
},getTouchAction:function(){return[Zt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&te)},emit:function(t){if(this._super.emit.call(this,t),1!==t.scale){var e=t.scale<1?"in":"out";this.manager.emit(this.options.event+e,t)}}}),h(K,F,{defaults:{event:"press",pointers:1,time:500,threshold:5*rt},getTouchAction:function(){return[Gt]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,s=t.distance<e.threshold,r=t.deltaTime>e.time;if(this._input=t,!s||!i||t.eventType&(Et|Pt)&&!r)this.reset();else if(t.eventType&St)this.reset(),this._timer=n(function(){this.state=ne,this.tryEmit()},e.time,this);else if(t.eventType&Et)return ne;return re},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===ne&&(t&&t.eventType&Et?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=ut(),this.manager.emit(this.options.event,this._input)))}}),h(J,G,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Zt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&te)}}),h(Q,G,{defaults:{event:"swipe",threshold:10*rt,velocity:.65,direction:Ot|Mt,pointers:1},getTouchAction:function(){return $.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(Ot|Mt)?e=t.velocity:i&Ot?e=t.velocityX:i&Mt&&(e=t.velocityY),this._super.attrTest.call(this,t)&&i&t.direction&&t.distance>this.options.threshold&&lt(e)>this.options.velocity&&t.eventType&Et},emit:function(t){var e=V(t.direction);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),h(tt,F,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:10*rt,posThreshold:10*rt},getTouchAction:function(){return[$t]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,s=t.distance<e.threshold,r=t.deltaTime<e.time;if(this.reset(),t.eventType&St&&0===this.count)return this.failTimeout();if(s&&r&&i){if(t.eventType!=Et)return this.failTimeout();var o=this.pTime?t.timeStamp-this.pTime<e.interval:!0,a=!this.pCenter||A(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t;var h=this.count%e.taps;if(0===h)return this.hasRequireFailures()?(this._timer=n(function(){this.state=ne,this.tryEmit()},e.interval,this),te):ne}return re},failTimeout:function(){return this._timer=n(function(){this.state=re},this.options.interval,this),re},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==ne&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),et.VERSION="2.0.3",et.defaults={domEvents:!1,touchAction:Ut,enable:!0,inputTarget:null,inputClass:null,preset:[[J,{enable:!1}],[Z,{enable:!1},["rotate"]],[Q,{direction:Ot}],[$,{direction:Ot},["swipe"]],[tt],[tt,{event:"doubletap",taps:2},["tap"]],[K]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var oe=1,ae=2;return it.prototype={set:function(t){return o(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?ae:oe},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var i,n=this.recognizers,s=e.curRecognizer;(!s||s&&s.state&ne)&&(s=e.curRecognizer=null);for(var r=0;r<n.length;)i=n[r],e.stopped===ae||s&&i!=s&&!i.canRecognizeWith(s)?i.reset():i.recognize(t),!s&&i.state&(te|ee|ie)&&(s=e.curRecognizer=i),r++}},get:function(t){if(t instanceof F)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(s(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(s(t,"remove",this))return this;var e=this.recognizers;return t=this.get(t),e.splice(v(e,t),1),this.touchAction.update(),this},on:function(t,e){var i=this.handlers;return r(g(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this},off:function(t,e){var i=this.handlers;return r(g(t),function(t){e?i[t].splice(v(i[t],e),1):delete i[t]}),this},emit:function(t,e){this.options.domEvents&&st(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()},e.stopPropagation=function(){e.srcEvent.stopPropagation()};for(var n=0;n<i.length;)i[n](e),n++}},destroy:function(){this.element&&nt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},o(et,{INPUT_START:St,INPUT_MOVE:Tt,INPUT_END:Et,INPUT_CANCEL:Pt,STATE_POSSIBLE:Qt,STATE_BEGAN:te,STATE_CHANGED:ee,STATE_ENDED:ie,STATE_RECOGNIZED:ne,STATE_CANCELLED:se,STATE_FAILED:re,DIRECTION_NONE:_t,DIRECTION_LEFT:kt,DIRECTION_RIGHT:Ct,DIRECTION_UP:It,DIRECTION_DOWN:Dt,DIRECTION_HORIZONTAL:Ot,DIRECTION_VERTICAL:Mt,DIRECTION_ALL:At,Manager:it,Input:T,TouchAction:j,TouchInput:z,MouseInput:L,PointerEventInput:R,TouchMouseInput:H,Recognizer:F,AttrRecognizer:G,Tap:tt,Pan:$,Swipe:Q,Pinch:Z,Rotate:J,Press:K,on:d,off:f,each:r,merge:a,extend:o,inherit:h,bindFn:c,prefixed:w}),et}}),define("frameworks/lib/scroll",[],function(t,e,i){var n=device.ui,s=function(t){return t*n.scale},r=device.feat,o=r.prefixStyle,a={linear:{style:"cubic-bezier(0, 0, 1, 1)",fn:function(t){return t}},quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(t){return t*(2-t)}},circular:{style:"cubic-bezier(0, 0, 0.1, 1)",fn:function(t){return Math.sqrt(1- --t*t)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(t){var e=4;return(t-=1)*t*((e+1)*t+e)+1}},bounce:{style:"",fn:function(t){return(t/=1)<1/2.75?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}},elastic:{style:"",fn:function(t){var e=.22,i=.4;return 0===t?0:1==t?1:i*Math.pow(2,-10*t)*Math.sin((t-e/4)*(2*Math.PI)/e)+1}}},h={touch:r.touch,isBadTransition:r.isBadTransition,supportTransition:r.supportTransition,feat:{hasObserver:r.observer,hasTransform:o("transform")!==!1,hasPerspective:o("perspective"),hasTouch:r.touch,hasPointer:navigator.msPointerEnabled,hasTransition:o("transition")},prefixStyle:{transform:o("transform"),transition:o("transition"),transitionTimingFunction:o("transitionTimingFunction"),transitionDuration:o("transitionDuration"),transitionDelay:o("transitionDelay"),transformOrigin:o("transformOrigin")},prefixPointerEvent:function(t){return window.MSPointerEvent?"MSPointer"+t.charAt(9).toUpperCase()+t.substr(10):t}},c=function(){return this.addEvent=function(t,e,i,n){t.addEventListener(e,i,!!n)},this.removeEvent=function(t,e,i,n){t.removeEventListener(e,i,!!n)},this.offset=function(t){for(var e=-t.offsetLeft,i=-t.offsetTop;t=t.offsetParent;)e-=t.offsetLeft,i-=t.offsetTop;return{left:e,top:i}},this.preventDefaultException=function(t,e){for(var i in e)if(e[i].test(t[i]))return!0;return!1},this.eventType={touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3},this}.call({});e.exports=function(t,e,i){"use strict";function r(t,e){this.options={bindToWrapper:!1,scrollbars:!0,fadeScrollbars:!0,resizeScrollbars:!0,mouseWheel:!0,mouseWheelSpeed:20,infiniteDeferLoad:!1,infiniteCacheBuffer:50,momentum:!0,durationMinTime:600,deceleration:.0012,speedLimit:3,startX:0,startY:0,scrollX:!1,scrollY:!0,directionLockThreshold:5,bounce:!0,bounceDrag:3,bounceTime:400,bounceEasing:"",boundariesLimit:.6,bounceBreakThrough:!0,snap:!1,snapSpeed:400,snapEasing:"",snapThreshold:.15,preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|HTMLAREA|BUTTON|SELECT)$/},stopPropagation:!1,HWCompositing:!0,useTransition:!0};for(var i in e)this.options[i]=e[i];if(this.wrapper=t,this.scroller=this.wrapper.childrens("scrolling")[0],this.scrollbar=this.wrapper.childrens("scrollbar")[0],!this.scroller&&(application.console.warn("<SCROLLING> is not defined"),this.scroller=this.wrapper.children[0],!this.scroller))throw"scrolling is not defined";this.scrollerStyle=this.scroller.style,this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.translateZ=this.options.HWCompositing&&h.feat.hasPerspective?" translateZ(0px)":"",this.options.useTransition=h.feat.hasTransition&&this.options.useTransition,this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"==this.options.eventPassthrough?!1:this.options.scrollY,this.options.scrollX="horizontal"==this.options.eventPassthrough?!1:this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.snapEasing="string"==typeof this.options.snapEasing?a[this.options.snapEasing]||a.circular:this.options.snapEasing,this.options.bounceEasing="string"==typeof this.options.bounceEasing?a[this.options.bounceEasing]||a.quadratic:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,this.options.indicators=this.scrollbar?{el:this.scrollbar}:null,this.options.snap&&(e.mouseWheel||(this.options.mouseWheel=!1),e.speedLimit||(this.options.speedLimit=.5),e.fadeScrollbars||(this.options.fadeScrollbars=!1),this.options.indicators&&(this.options.indicators.resize=!1)),h.supportTransition||(this.options.useTransition=!1),this.options.scrollX&&this.options.scrollY?this.wrapper.setAttribute("flow-free",""):this.options.scrollX?(this.wrapper.setAttribute("flow-x",""),this.wrapper.style.height=this.scroller.offsetHeight+"px"):this.options.scrollY&&this.wrapper.setAttribute("flow-y",""),this.x=0,this.y=0,this.directionX=0,this.directionY=0,this.decelerationRate=1,this._events={},this.revert(!0)}function o(t,i,n){var s=e.createElement("scrollbar"),r=e.createElement("indicator");return r.className="scroll-indicator","h"==t?(n===!0&&(s.css({height:"2.5dp",right:"2dp",bottom:"4dp",left:"2dp"}),r.css({height:"100%"})),s.className="scroll-horizontal-scrollbar"):(n===!0&&(s.css({width:"2.5dp",top:"2dp",right:"4dp",bottom:"2dp"}),r.css({width:"100%"})),s.className="scroll-vertical-scrollbar"),i||(s.style.pointerEvents="none"),s.appendChild(r),s}function l(i,n){this.wrapper="string"==typeof n.el?e.querySelector(n.el):n.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=i,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,drag:3,fade:!1,speedRatioX:0,speedRatioY:0};for(var s in n)this.options[s]=n[s];this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(c.addEvent(this.indicator,"touchstart",this),c.addEvent(t,"touchend",this)),this.options.disablePointer||(c.addEvent(this.indicator,"MSPointerDown",this),c.addEvent(t,"MSPointerUp",this)),this.options.disableMouse||(c.addEvent(this.indicator,"mousedown",this),c.addEvent(t,"mouseup",this))),this.options.fade&&(this.wrapperStyle[h.prefixStyle.transform]=this.scroller.translateZ,this.wrapperStyle[h.prefixStyle.transitionDuration]="0ms",this.wrapperStyle.opacity="0")}var u=t.getComputedStyle,d=t.requestAnimationFrame;return r.prototype={handleEvent:function(t){switch(t.type){case"touchstart":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"MSPointerUp":case"mouseup":case"touchcancel":case"MSPointerCancel":case"mousecancel":this._end(t);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(t);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(t);break;case"keydown":this._key(t);break;case"click":t._constructed||(t.preventDefault(),t.stopPropagation())}},_initEvents:function(e){var i=e?c.removeEvent:c.addEvent,n=this.options.bindToWrapper?this.wrapper:t;i(t,"orientationchange",this),i(t,"resize",this),this.options.disableMouse||(i(this.wrapper,"mousedown",this),i(n,"mousemove",this),i(n,"mousecancel",this),i(n,"mouseup",this)),h.feat.hasPointer&&!this.options.disablePointer&&(i(this.wrapper,h.prefixPointerEvent("pointerdown"),this),i(n,h.prefixPointerEvent("pointermove"),this),i(n,h.prefixPointerEvent("pointercancel"),this),i(n,h.prefixPointerEvent("pointerup"),this)),h.feat.hasTouch&&!this.options.disableTouch&&(i(this.wrapper,"touchstart",this),i(n,"touchmove",this),i(n,"touchcancel",this),i(n,"touchend",this)),i(this.scroller,"transitionend",this),i(this.scroller,"webkitTransitionEnd",this),i(this.scroller,"oTransitionEnd",this),i(this.scroller,"MSTransitionEnd",this)},_initObserver:function(){this.options.infiniteElements||this._observer(this.scroller,function(){this.refresh()})},_initIndicators:function(){function t(t){if(r.indicators)for(var e=r.indicators.length;e--;)t.call(r.indicators[e])}var e,i=this.options.interactiveScrollbars,n="string"!=typeof this.options.scrollbars,s=[],r=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(e={el:o("v",i,this.options.scrollbars),interactive:i,defaultScrollbars:!0,customStyle:n,resize:this.options.resizeScrollbars,drag:this.options.bounceDrag,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(e.el),s.push(e)),this.options.scrollX&&(e={el:o("h",i,this.options.scrollbars),interactive:i,defaultScrollbars:!0,customStyle:n,resize:this.options.resizeScrollbars,drag:this.options.bounceDrag,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(e.el),s.push(e))),this.options.indicators&&(s=s.concat(this.options.indicators));for(var a=s.length;a--;)this.indicators.push(new l(this,s[a]));this.options.fadeScrollbars&&(this.on("scrollend",function(){t(function(){this.fade()})}),this.on("scrollcancel",function(){t(function(){this.fade()})}),this.on("scrollstart",function(){t(function(){this.fade(1)})}),this.on("beforescrollstart",function(){t(function(){this.fade(1,!0)})})),this.on("refresh",function(){t(function(){this.refresh()})}),this.on("modify",function(){t(function(){this.refresh()})}),this.on("destroy",function(){t(function(){this.destroy()}),delete this.indicators})},_initWheel:function(){c.addEvent(this.wrapper,"wheel",this),c.addEvent(this.wrapper,"mousewheel",this),c.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){c.removeEvent(this.wrapper,"wheel",this),c.removeEvent(this.wrapper,"mousewheel",this),c.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_initKeys:function(e){var i,n={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};if("object"==typeof this.options.keyBindings)for(i in this.options.keyBindings)"string"==typeof this.options.keyBindings[i]&&(this.options.keyBindings[i]=this.options.keyBindings[i].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(i in n)this.options.keyBindings[i]=this.options.keyBindings[i]||n[i];c.addEvent(t,"keydown",this),this.on("destroy",function(){c.removeEvent(t,"keydown",this)})},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var t,e,n,s,r,o,a=0,h=0,c=0,l=this.options.snapStepX||this.wrapperWidth,u=this.options.snapStepY||this.wrapperHeight;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(this.options.snap===!0)for(n=i.round(l/2),s=i.round(u/2);c>-this.scrollerWidth;){for(this.pages[a]=[],t=0,r=0;r>-this.scrollerHeight;)this.pages[a][t]={x:i.max(c,this.maxScrollX),y:i.max(r,this.maxScrollY),width:l,height:u,cx:c-n,cy:r-s},r-=u,t++;c-=l,a++}else for(o=this.options.snap,t=o.length,e=-1;t>a;a++)(0===a||o[a].offsetLeft<=o[a-1].offsetLeft)&&(h=0,e++),this.pages[h]||(this.pages[h]=[]),c=i.max(-o[a].offsetLeft,this.maxScrollX),r=i.max(-o[a].offsetTop,this.maxScrollY),n=c-i.round(o[a].offsetWidth/2),s=r-i.round(o[a].offsetHeight/2),this.pages[h][e]={x:c,y:r,width:o[a].offsetWidth,height:o[a].offsetHeight,cx:n,cy:s},c>this.maxScrollX&&h++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1===0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=i.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=i.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}})},_initInfinite:function(){var t=this;this.infiniteElements=this.options.infiniteElements,this.infiniteLength=this.infiniteElements.length,this.infiniteCache=[],this.infiniteDataLength=0,this.scrollerHeight=0,this.infiniteItemSize=this.options.infiniteItemSize?s(this.options.infiniteItemSize):!1,this.getInfiniteDataset=this.options.getInfiniteDataset,this.setInfiniteDataFiller=this.options.setInfiniteDataFiller,this.getInfiniteDataFiller=this.options.getInfiniteDataFiller,this.getInfiniteCacheBuffer=this.options.getInfiniteCacheBuffer,this.setupInfinite(),this.one("infiniteDataInited",function(){this.on("refresh",function(){this.reorderInfinite()}),this.infiniteElements.map(function(e){t._observer(e,function(){t.isInTransition||t.isAnimating||t.refreshInfiniteAll()})}),this.refresh()}),this.on("scroll scrollend",function(t){"break"==t||"moving"==t||this.borderBouncing||this.reorderInfinite()}),this.datasetInfinite()},_initBase:function(){this.initiated=!1},_init:function(){this._initBase(),this._initEvents(),this._initObserver(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys(),this.options.infiniteElements&&!this.options.infiniteDeferLoad&&this._initInfinite()},_resize:function(){var t=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){t.refresh()},this.options.resizePolling)},_momentum:function(t,e,r,o,a){var h,c,l=t-e,u=i.min(i.abs(l)/r/n.scale,this.options.speedLimit),d=i.pow(u,2),f=this.options.deceleration*this.decelerationRate,p=d/f;return h=t+p*(0>l?-1:1),c=i.max(p/u,this.options.durationMinTime),o>h?(h=a?o-a*this.options.boundariesLimit*i.min(u/s(8),1):o,l=i.abs(h-t),c=l/d):h>0&&(h=a?a*this.options.boundariesLimit*i.min(u/s(8),1):0,l=i.abs(t)+h,c=l/d),{destination:i.round(h),duration:c}},_translate:function(t,e){if(this.scrollerStyle[h.prefixStyle.transform]="translate("+t+"px,"+e+"px)"+this.translateZ,this.x=this._x=t,this.y=this._y=e,this.indicators)for(var i=this.indicators.length;i--;)this.indicators[i].updatePosition()},_transitionTime:function(t){if(this.scrollerStyle[h.prefixStyle.transitionDuration]=t?t+"ms":"",this.x=this._x,this.y=this._y,this.indicators)for(var e=this.indicators.length;e--;)this.indicators[e].transitionTime(t)},_transitionTimingFunction:function(t){if(this.scrollerStyle[h.prefixStyle.transitionTimingFunction]=t,this.indicators)for(var e=this.indicators.length;e--;)this.indicators[e].transitionTimingFunction(t)},_transitionScroll:function(){function t(){n.isInTransition&&(e=n.getComputedPosition(),n.dropX=i.round(e.x-n.x)||n.dropX,n.dropY=i.round(e.y-n.y)||n.dropY,n.x=i.round(e.x),n.y=i.round(e.y),n._execEvent("scroll"),d(t))}var e,n=this;t()},_transitionEnd:function(t){t.target==this.scroller&&this.isInTransition&&(this._transitionTime(),h.supportTransition&&Date.now()-this.transitionStartTime<.9*this.transitionCountTime&&(this.options.useTransition=!1,h.supportTransition=!1,device.feat.supportTransition=!1),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollend")),this.drawingEnd())},_observer:function(t,e){var i=this;t.observer({childList:!0,subtree:!0,characterData:!0},function(t){t.length&&e.call(i)})},_animate:function(t,e,i,n){function s(){var l,u,f,p=Date.now();return p>=c?(r.isAnimating=!1,r._translate(t,e),void(r.resetPosition(r.options.bounceTime)||r._execEvent("scrollend"))):(p=(p-h)/i,f=n(p),l=(t-o)*f+o,u=(e-a)*f+a,r._translate(l,u),r.isAnimating&&d(s),void r._execEvent("scroll"))}var r=this,o=this.x,a=this.y,h=Date.now(),c=h+i;this.isAnimating=!0,s()},on:function(t,e){var i=this;t.split(" ").map(function(t){i._events.initial(t,[]).push(e)})},one:function(t,e){function i(){e.apply(this,arguments),this.off(t,i)}var n=this;t.split(" ").map(function(t){n._events.initial(t,[]).push(i)})},off:function(t,e){var i=this;t.split(" ").map(function(t){if(i._events[t]){var n=i._events[t].indexOf(e);n>-1&&i._events[t].splice(n,1)}})},_execEvent:function(t){var e=this,i=arguments;this._events[t]&&this._events[t].map(function(t){t.apply(e,[].slice.call(i,1))})},_start:function(t){if((1==c.eventType[t.type]||0===t.button)&&this.enabled&&(!this.initiated||c.eventType[t.type]===this.initiated)){this.options.preventDefault&&!c.preventDefaultException(t.target,this.options.preventDefaultException)&&t.preventDefault(),this.options.stopPropagation&&t.stopPropagation();var e,n=t.touches?t.touches.length-1:0,s=t.touches?t.touches[t.touches.length-1]:t,r=0;this.finger=n,this.initiated=c.eventType[t.type],this.moved=!1,this.distX=0,this.distY=0,this.trendX=0,this.trendY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this.startTime=Date.now(),this.options.useTransition&&this.isInTransition?(this.isInTransition=!1,h.isBadTransition&&(r=1e-4,this.transitionGap=!0),this._transitionTime(r),e=this.getComputedPosition(),this.trendX>=0&&this.trendY>=0&&0==this.borderBouncing&&(e.x+=this.dropX,e.y+=this.dropY),this.x=i.round(e.x),this.y=i.round(e.y),this._translate(this.x,this.y),this._execEvent("scrollend","break")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollend","break")),this.dropX=0,this.dropY=0,this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=s.pageX,this.pointY=s.pageY,this._execEvent("beforescrollstart")}},_move:function(t){if(this.enabled&&c.eventType[t.type]===this.initiated){if(this.options.preventDefault&&!c.preventDefaultException(t.target,this.options.preventDefaultException)&&t.preventDefault(),this.options.stopPropagation&&t.stopPropagation(),this.transitionGap){this._transitionTime();var e=this.getComputedPosition();this.x=i.round(e.x),this.y=i.round(e.y),this.transitionGap=!1}var n,r,o,a,h,l,u=t.touches?t.touches.length-1:0,d=t.touches?t.touches[t.touches.length-1]:t,f=d.pageX-this.pointX,p=d.pageY-this.pointY,m=Date.now();if(this.finger=u,this.pointX=d.pageX,this.pointY=d.pageY,this.distX+=f,this.distY+=p,o=i.abs(this.distX),a=i.abs(this.distY),!(m-this.endTime>200&&o<s(10)&&a<s(10))){if(this.directionLocked||this.options.freeScroll||(o>a+this.options.directionLockThreshold?this.directionLocked="h":a>=o+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)t.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);p=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)t.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);f=0}f=this.hasHorizontalScroll?f:0,p=this.hasVerticalScroll?p:0,n=this.x+f,r=this.y+p,(n>0||n<this.maxScrollX)&&(n=this.options.bounce?this.x+f/(this.options.bounceDrag+i.pow(o,.05)):n>0?0:this.maxScrollX),(r>0||r<this.maxScrollY)&&(r=this.options.bounce?this.y+p/(this.options.bounceDrag+i.pow(a,.05)):r>0?0:this.maxScrollY),h=f>0?-1:0>f?1:0,l=p>0?-1:0>p?1:0,this.trendX=this.directionX==h?1:-1,this.trendY=this.directionY==l?1:-1,this.directionX=h,this.directionY=l,this.moved||this._execEvent("scrollstart"),this.moved=!0,this._translate(n,r),m-this.startTime>300&&(this.startTime=m,this.startX=this.x,this.startY=this.y),this._execEvent("scroll","moving")}}},_end:function(t){if(this.enabled&&c.eventType[t.type]===this.initiated&&!(this.finger>0)){this.options.preventDefault&&!c.preventDefaultException(t.target,this.options.preventDefaultException)&&t.preventDefault(),this.options.stopPropagation&&t.stopPropagation();var e,n,s=t.changedTouches?t.changedTouches.length:0,r=(s?t.changedTouches[s]:t,Date.now()-this.startTime),o=i.round(this.x),h=i.round(this.y),l=(i.abs(o-this.startX),i.abs(h-this.startY),o-this.startX>0?1:o-this.startX<0?-1:0),u=h-this.startY>0?1:h-this.startY<0?-1:0,d=0,f="";if(this.finger-=s,this.isInTransition=!1,this.initiated=0,this.gapTime=Date.now()-this.endTime,this.endTime=Date.now(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(o,h),!this.moved)return void this._execEvent("scrollcancel");if(this.options.momentum&&300>r&&(e=this.hasHorizontalScroll?this._momentum(this.x,this.startX,r,this.maxScrollX,this.options.bounce&&this.options.bounceBreakThrough?this.wrapperWidth:0):{destination:o,duration:0},n=this.hasVerticalScroll?this._momentum(this.y,this.startY,r,this.maxScrollY,this.options.bounce&&this.options.bounceBreakThrough?this.wrapperHeight:0):{destination:h,duration:0},o=e.destination,h=n.destination,d=i.max(e.duration,n.duration),this.isInTransition=!0),this.options.snap){var p=this._nearestSnap(o,h);this.currentPage=p,d=this.options.snapSpeed||i.max(i.max(i.min(i.abs(o-p.x),1e3),i.min(i.abs(h-p.y),1e3)),300),o=p.x,h=p.y,this.directionX=0,this.directionY=0,f=this.options.snapEasing}return o!=this.x||h!=this.y?((o>0||o<this.maxScrollX||h>0||h<this.maxScrollY)&&(f=a.quadratic),this.gapTime<600&&this.panDirectionY==u&&this.panDirectionX==l?this.decelerationRate=i.max(this.decelerationRate-.1,.5):this.decelerationRate=1,this.panDirectionX=l,this.panDirectionY=u,void this.scrollTo(o,h,d,f)):void this._execEvent("scrollend")}}},_wheel:function(t){if(this.enabled){t.preventDefault(),this.options.stopPropagation&&t.stopPropagation();var e,n,s,r,o=this;if(void 0===this.wheelTimeout&&o._execEvent("scrollstart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){o._execEvent("scrollend"),o.wheelTimeout=void 0},400),"deltaX"in t)e=-t.deltaX,n=-t.deltaY;else if("wheelDeltaX"in t)e=t.wheelDeltaX/120*this.options.mouseWheelSpeed,n=t.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in t)e=n=t.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in t))return;e=n=-t.detail/3*this.options.mouseWheelSpeed}if(e*=this.options.invertWheelDirection,n*=this.options.invertWheelDirection,this.hasVerticalScroll||(e=n,n=0),this.options.snap)return s=this.currentPage.pageX,r=this.currentPage.pageY,e>0?s--:0>e&&s++,n>0?r--:0>n&&r++,void this.goToPage(s,r);s=this.x+i.round(this.hasHorizontalScroll?e:0),r=this.y+i.round(this.hasVerticalScroll?n:0),s>0?s=0:s<this.maxScrollX&&(s=this.maxScrollX),r>0?r=0:r<this.maxScrollY&&(r=this.maxScrollY),this.scrollTo(s,r,0),this._execEvent("scroll")}},_key:function(t){if(this.enabled){var e,n=this.options.snap,s=n?this.currentPage.pageX:this.x,r=n?this.currentPage.pageY:this.y,o=Date.now(),a=this.keyTime||0,h=.25;switch(this.options.useTransition&&this.isInTransition&&(e=this.getComputedPosition(),this._translate(i.round(e.x),i.round(e.y)),this.isInTransition=!1),this.keyAcceleration=200>o-a?i.min(this.keyAcceleration+h,50):0,t.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?s+=n?1:this.wrapperWidth:r+=n?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?s-=n?1:this.wrapperWidth:r-=n?1:this.wrapperHeight;break;case this.options.keyBindings.end:s=n?this.pages.length-1:this.maxScrollX,r=n?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:s=0,r=0;break;case this.options.keyBindings.left:s+=n?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:r+=n?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:s-=n?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:r-=n?1:5+this.keyAcceleration>>0;break;default:return}if(n)return void this.goToPage(s,r);s>0?(s=0,this.keyAcceleration=0):s<this.maxScrollX&&(s=this.maxScrollX,this.keyAcceleration=0),r>0?(r=0,this.keyAcceleration=0):r<this.maxScrollY&&(r=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(s,r,0),this.keyTime=o}},_nearestSnap:function(t,e){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var n=0,s=this.pages.length,r=0;if(i.abs(t-this.absStartX)<this.snapThresholdX&&i.abs(e-this.absStartY)<this.snapThresholdY)return this.currentPage;for(t>0?t=0:t<this.maxScrollX&&(t=this.maxScrollX),e>0?e=0:e<this.maxScrollY&&(e=this.maxScrollY);s>n;n++)if(t>=this.pages[n][0].cx){t=this.pages[n][0].x;break}for(s=this.pages[n].length;s>r;r++)if(e>=this.pages[0][r].cy){e=this.pages[0][r].y;break}return n==this.currentPage.pageX&&(n+=this.directionX,0>n?n=0:n>=this.pages.length&&(n=this.pages.length-1),t=this.pages[n][0].x),r==this.currentPage.pageY&&(r+=this.directionY,0>r?r=0:r>=this.pages[0].length&&(r=this.pages[0].length-1),e=this.pages[0][r].y),{x:t,y:e,pageX:n,pageY:r}},next:function(t,e){var i=this.currentPage.pageX,n=this.currentPage.pageY;i++,i>=this.pages.length&&this.hasVerticalScroll&&(i=0,n++),this.goToPage(i,n,t,e)},prev:function(t,e){var i=this.currentPage.pageX,n=this.currentPage.pageY;i--,0>i&&this.hasVerticalScroll&&(i=0,n--),this.goToPage(i,n,t,e)},goToPage:function(t,e,n,s){s=s||this.options.bounceEasing,t>=this.pages.length?t=this.pages.length-1:0>t&&(t=0),e>=this.pages[t].length?e=this.pages[t].length-1:0>e&&(e=0);var r=this.pages[t][e].x,o=this.pages[t][e].y;n=void 0===n?this.options.snapSpeed||i.max(i.max(i.min(i.abs(r-this.x),1e3),i.min(i.abs(o-this.y),1e3)),300):n,this.currentPage={x:r,y:o,pageX:t,pageY:e},this.scrollTo(r,o,n,s)},scrollBy:function(t,e,i,n){t=this.x+t,e=this.y+e,i=i||0,this.scrollTo(t,e,i,n)},scrollTo:function(t,e,i,n){n=n||a.circular,this.isInTransition=this.options.useTransition&&i>0,!i||this.options.useTransition&&n.style?(this.options.useTransition&&(this._transitionTimingFunction(n.style),this._transitionTime(i)),this.transitionStartTime=Date.now(),this.transitionCountTime=i,this._translate(t,e),this._transitionScroll()):this._animate(t,e,i,n.fn)},scrollToElement:function(t,e,n,s,r){if(t=t.nodeType?t:this.scroller.querySelector(t)){var o=c.offset(t);o.left-=this.wrapperOffset.left,o.top-=this.wrapperOffset.top,n===!0&&(n=i.round(t.offsetWidth/2-this.wrapper.offsetWidth/2)),s===!0&&(s=i.round(t.offsetHeight/2-this.wrapper.offsetHeight/2)),o.left-=n||0,o.top-=s||0,o.left=o.left>0?0:o.left<this.maxScrollX?this.maxScrollX:o.left,o.top=o.top>0?0:o.top<this.maxScrollY?this.maxScrollY:o.top,e=void 0===e||null===e||"auto"===e?i.max(i.abs(this.x-o.left),i.abs(this.y-o.top)):e,this.scrollTo(o.left,o.top,e,r)}},getComputedPosition:function(){var t,e,i=u(this.scroller,null);return i=i[h.prefixStyle.transform].split(")")[0].split(", "),t=+(i[12]||i[4]),e=+(i[13]||i[5]),{x:t,y:e}},drawingEnd:function(){this.options.infiniteElements||(this.hasVerticalScroll&&this.y<i.min(this.maxScrollY+this.wrapperHeight,0)||this.hasHorizontalScroll&&this.x<i.min(this.maxScrollX+this.wrapperHeight,0))&&(this.scrollerHeight===this.scroller.offsetHeight&&this.scrollerWidth===this.scroller.offsetWidth||this.refresh())},resetPosition:function(t){var e=this.x,i=this.y;return t=t||0,!this.hasHorizontalScroll||this.x>0?e=0:this.x<this.maxScrollX&&(e=this.maxScrollX),!this.hasVerticalScroll||this.y>0?i=0:this.y<this.maxScrollY&&(i=this.maxScrollY),
e==this.x&&i==this.y?this.borderBouncing=!1:(this.scrollTo(e,i,t,a.quadratic),this.borderBouncing=!0)},setupInfinite:function(){this.scrollerHeight=0,this.infinitePhase=0,this.infiniteMaxPhase=0,this.infiniteContentWidth=0,this.infiniteContentHeight=0,this.infiniteContentPos=[0,0],this.infiniteContainerCenter=0,this.infiniteElementsPos=[0,0],this.infiniteElementsEdge=[0,0],this.infinitePhaseElements=[]},resetInfinite:function(t){this.infiniteElements.each(function(t,e){this.setInfiniteDataFiller(e,e._phase)},this),this.scrollTo(0,0,t),this.setupInfinite(),this.reorderInfinite()},datasetInfinite:function(){if(this.datasetInfiniteLock!==!0){var t=this,e=this.infiniteCache.length;this.datasetInfiniteLock=!0,this.getInfiniteDataset.call(this,e,function(i,n){return void 0!==i&&i.length?(t.updateInfiniteData(e,i),t.reorderInfinite(),0==e&&t._execEvent("infiniteDataInited"),n?t.datasetInfiniteLock=!0:void(t.datasetInfiniteLock=!1)):t.datasetInfiniteLock=!0})}},detectInfiniteBalance:function(){return 2*(this.infiniteContentPos[1]+this.infiniteContentPos[0]-2*this.infiniteContainerCenter)},reorderInfinite:function(){var t,e,i;t=-this.y,e=t+this.wrapperHeight/2,i=this.infiniteContainerCenter-e,i=0===i?-1:0>i?-1:1,this.infiniteContainerCenter=e,this.infiniteContentHeight=this.infiniteContentPos[1]-this.infiniteContentPos[0],this.infiniteSurplusBuffer=this.infiniteDataLength-this.infinitePhase,this.checkInfiniteDataBuffer(),0!==this.infiniteDataLength&&this.rearrangeInfinite(i)},rearrangeInfinite:function(t){function e(){if(l.detectInfiniteBalance()<0||f){if(u>=d)return;if(l.infiniteSurplusBuffer=l.infiniteDataLength-l.infinitePhase,l.infiniteSurplusBuffer<=0)return l._execEvent("infiniteCachedEnd");a=l.infinitePhase++,h=a%l.infiniteLength,c=i.max((a+1-l.infiniteLength)%l.infiniteLength,0),s=l.infiniteElements[h],s._index=h,s.__phase=s._phase||0,s._phase=a,r=l.infiniteContentPos[1],l.updateInfinitePos(s,r),l.updateInfiniteContent(s),o=l.infiniteItemSize||s.offsetHeight,l.infiniteElementsPos[h]=[r,r+o],l.infiniteElementsEdge=[c,h],l.infiniteContentPos[0]=l.infiniteElementsPos[c][0],l.infiniteContentPos[1]+=o,l.refreshInfinite(a,r+o),u++,e()}}function n(){if(l.detectInfiniteBalance()>0){if(u>=d)return;if(l.infinitePhase-l.infiniteLength<=0)return;a=--l.infinitePhase,h=a%l.infiniteLength,c=(a-1)%l.infiniteLength,s=l.infiniteElements[h],s._index=h,s.__phase=s._phase,s._phase=a-l.infiniteLength,l.updateInfiniteContent(s),o=l.infiniteItemSize||s.offsetHeight,r=l.infiniteContentPos[0]-o,l.updateInfinitePos(s,r),l.infiniteElementsPos[h]=[r,r+o],l.infiniteElementsEdge=[h,c],l.infiniteContentPos[0]-=o,l.infiniteContentPos[1]=l.infiniteElementsPos[c][1],u++,n()}}var s,r,o,a,h,c,l=this,u=0,d=i.min(this.infiniteLength,this.infiniteDataLength),f=1==t&&this.infinitePhase<=d;switch(t){case-1:e();break;case 1:n()}},refreshInfinite:function(t,e){t<=this.infiniteMaxPhase||(this.scrollerHeight=e+(this.infiniteSurplusBuffer-1)*(e/t),this.maxScrollY=i.min(this.wrapperHeight-this.scrollerHeight,0),this.infiniteSurplusBuffer-1!=0&&t%(10*this.infiniteLength)!=0||this._execEvent("modify"),this.infiniteMaxPhase=t)},refreshInfiniteAll:function(){var t,e,n,s,r,o,a=this.infiniteLength,h=this.infiniteElementsEdge[0],c=this.infiniteContentPos[1]-this.infiniteContentPos[0];for(this.infiniteContentPos[1]=this.infiniteContentPos[0],t=0;a>t;t++)e=(h+t)%this.infiniteLength,n=this.infiniteElements[e],r=n.offsetHeight,s=this.infiniteContentPos[1],this.updateInfinitePos(n,s),this.infiniteElementsPos[e]=[s,s+r],this.infiniteContentPos[1]+=r;o=this.infiniteContentPos[1]-this.infiniteContentPos[0]-c,this.scrollerHeight+=o,this.maxScrollY=i.min(this.wrapperHeight-this.scrollerHeight,0),this._execEvent("modify")},updateInfinitePos:function(t,e){this.options.scrollX?t.style[h.prefixStyle.transform]="translate("+e+"px, 0)"+this.translateZ:this.options.scrollY&&(t.style[h.prefixStyle.transform]="translate(0, "+e+"px)"+this.translateZ)},updateInfiniteContent:function(t){this.getInfiniteDataFiller.call(this,t,t._phase,t.__phase)},updateInfiniteData:function(t,e){var i=this;e.map(function(e){i.infiniteCache[t++]=e,t>i.infiniteLength&&!function(t){setTimeout(function(){i.updateInfiniteCache(t)},0)}(t)}),this.infiniteDataLength=t},updateInfiniteCache:function(t){return this.getInfiniteCacheBuffer.call(this,this.infiniteCache[t],t)},checkInfiniteDataBuffer:function(){!this.datasetInfiniteLock&&this.infiniteSurplusBuffer<=this.options.infiniteCacheBuffer&&this.datasetInfinite()},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},revert:function(t){this._init(),this.refresh(),t&&this.scrollTo(this.options.startX,this.options.startY),this.enable()},destroy:function(){this._initEvents(!0),this._execEvent("destroy")},refresh:function(){this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.options.infiniteElements||(this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight),this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=c.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()}},l.prototype={handleEvent:function(t){switch(t.type){case"touchstart":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"MSPointerUp":case"mouseup":case"touchcancel":case"MSPointerCancel":case"mousecancel":this._end(t)}},destroy:function(){this.options.interactive&&(c.removeEvent(this.indicator,"touchstart",this),c.removeEvent(this.indicator,"MSPointerDown",this),c.removeEvent(this.indicator,"mousedown",this),c.removeEvent(t,"touchmove",this),c.removeEvent(t,"MSPointerMove",this),c.removeEvent(t,"mousemove",this),c.removeEvent(t,"touchend",this),c.removeEvent(t,"MSPointerUp",this),c.removeEvent(t,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.remove()},_start:function(e){var i=e.touches?e.touches[0]:e;e.preventDefault(),e.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=i.pageX,this.lastPointY=i.pageY,this.startTime=Date.now(),this.options.disableTouch||c.addEvent(t,"touchmove",this),this.options.disablePointer||c.addEvent(t,"MSPointerMove",this),this.options.disableMouse||c.addEvent(t,"mousemove",this),this.scroller._execEvent("beforescrollstart")},_move:function(t){var e,i,n,s,r=t.touches?t.touches[0]:t;Date.now();this.moved||this.scroller._execEvent("scrollstart"),this.moved=!0,e=r.pageX-this.lastPointX,this.lastPointX=r.pageX,i=r.pageY-this.lastPointY,this.lastPointY=r.pageY,n=this.x+e,s=this.y+i,this._pos(n,s),t.preventDefault(),t.stopPropagation()},_end:function(e){if(this.initiated){if(this.initiated=!1,e.preventDefault(),e.stopPropagation(),c.removeEvent(t,"touchmove",this),c.removeEvent(t,"MSPointerMove",this),c.removeEvent(t,"mousemove",this),this.scroller.options.snap){var n=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),s=this.options.snapSpeed||i.max(i.max(i.min(i.abs(this.scroller.x-n.x),1e3),i.min(i.abs(this.scroller.y-n.y),1e3)),300);this.scroller.x==n.x&&this.scroller.y==n.y||(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=n,this.scroller.scrollTo(n.x,n.y,s,this.scroller.options.snapEasing))}this.moved&&this.scroller._execEvent("scrollend")}},_pos:function(t,e){0>t?t=0:t>this.maxPosX&&(t=this.maxPosX),0>e?e=0:e>this.maxPosY&&(e=this.maxPosY),t=this.options.listenX?i.round(t/this.sizeRatioX):this.scroller.x,e=this.options.listenY?i.round(e/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(t,e)},fade:function(t,e){if(!e||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var i=t?0:250,n=t?0:100;h.isBadTransition&&(i=1e-4),t=t?"1":"0",this.wrapperStyle[h.prefixStyle.transitionDuration]=i+"ms",this.fadeTimeout=setTimeout(function(t){this.wrapperStyle.opacity=t,this.visible=+t}.bind(this,t),n)}},transitionTime:function(t){this.indicatorStyle[h.prefixStyle.transitionDuration]=t?t+"ms":""},transitionTimingFunction:function(t){this.indicatorStyle[h.prefixStyle.transitionTimingFunction]=t},updatePosition:function(){var t=this.scroller.x,e=this.scroller.y,n=this.options.listenX&&i.round(this.sizeRatioX*t)||0,r=this.options.listenY&&i.round(this.sizeRatioY*e)||0;this.options.ignoreBoundaries||(t>0?n=this.options.resize?i.max(n-t,s(8)-this.indicatorWidth):this.minBoundaryX:t<this.scroller.maxScrollX&&(n=this.options.resize?i.min(n+(this.scroller.maxScrollX-t),this.maxBoundaryX-s(8)):this.maxBoundaryX),e>0?r=this.options.resize?i.max(r-e,s(8)-this.indicatorHeight):this.minBoundaryY:e<this.scroller.maxScrollY&&(r=this.options.resize?i.min(r+(this.scroller.maxScrollY-e),this.maxBoundaryY-s(4)):this.maxBoundaryY)),this.x=n,this.y=r,this.indicatorStyle[h.prefixStyle.transform]="translate("+n+"px,"+r+"px)"+this.scroller.translateZ},refresh:function(){this.transitionTime(),this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none":this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(this.wrapper.addClass("scroll-both-scrollbars").removeClass("scroll-lone-scrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right=s(8)+"px":this.wrapper.style.bottom=s(8)+"px")):(this.wrapper.removeClass("scroll-both-scrollbars").addClass("scroll-lone-scrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right=s(2)+"px":this.wrapper.style.bottom=s(2)+"px"));this.wrapper.offsetHeight;this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=i.max(i.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||s(1))),s(4)),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,this.minBoundaryX=-this.indicatorWidth+s(4),this.maxBoundaryX=this.wrapperWidth-s(4),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=i.max(i.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||s(1))),s(4)),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.minBoundaryY=-this.indicatorHeight+s(4),this.maxBoundaryY=this.wrapperHeight-s(4),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()}},r.COMMON=c,r.BROWSER=h,r.EASEING=a,r}});